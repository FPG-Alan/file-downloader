{"version":3,"file":"savvy-transfer.js","sources":["../node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime-module.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../src/methods/IO.ts","../src/utils/index.ts","../src/utils/crc32.ts","../src/utils/Int64.js","../src/methods/zip.ts","../src/methods/filesystem.ts","../src/methods/memory.ts","../src/file.ts","../src/zip_file.ts","../src/index.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","export default class IO {\n  // public download() {}\n}\n","const extmime: {\n  [key: string]: string;\n} = {\n  '3ds': 'image/x-3ds',\n  '3g2': 'video/3gpp2',\n  '3gp': 'video/3gpp',\n  '7z': 'application/x-7z-compressed',\n  aac: 'audio/x-aac',\n  abw: 'application/x-abiword',\n  ace: 'application/x-ace-compressed',\n  adp: 'audio/adpcm',\n  aif: 'audio/x-aiff',\n  aifc: 'audio/x-aiff',\n  aiff: 'audio/x-aiff',\n  apk: 'application/vnd.android.package-archive',\n  asf: 'video/x-ms-asf',\n  asx: 'video/x-ms-asf',\n  atom: 'application/atom+xml',\n  au: 'audio/basic',\n  avi: 'video/x-msvideo',\n  bat: 'application/x-msdownload',\n  bmp: 'image/bmp',\n  btif: 'image/prs.btif',\n  bz: 'application/x-bzip',\n  bz2: 'application/x-bzip2',\n  caf: 'audio/x-caf',\n  cgm: 'image/cgm',\n  cmx: 'image/x-cmx',\n  com: 'application/x-msdownload',\n  conf: 'text/plain',\n  css: 'text/css',\n  csv: 'text/csv',\n  dbk: 'application/docbook+xml',\n  deb: 'application/x-debian-package',\n  def: 'text/plain',\n  djv: 'image/vnd.djvu',\n  djvu: 'image/vnd.djvu',\n  dll: 'application/x-msdownload',\n  dmg: 'application/x-apple-diskimage',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  dra: 'audio/vnd.dra',\n  dtd: 'application/xml-dtd',\n  dts: 'audio/vnd.dts',\n  dtshd: 'audio/vnd.dts.hd',\n  dvb: 'video/vnd.dvb.file',\n  dwg: 'image/vnd.dwg',\n  dxf: 'image/vnd.dxf',\n  ecelp4800: 'audio/vnd.nuera.ecelp4800',\n  ecelp7470: 'audio/vnd.nuera.ecelp7470',\n  ecelp9600: 'audio/vnd.nuera.ecelp9600',\n  emf: 'application/x-msmetafile',\n  emz: 'application/x-msmetafile',\n  eol: 'audio/vnd.digital-winds',\n  epub: 'application/epub+zip',\n  exe: 'application/x-msdownload',\n  f4v: 'video/x-f4v',\n  fbs: 'image/vnd.fastbidsheet',\n  fh: 'image/x-freehand',\n  fh4: 'image/x-freehand',\n  fh5: 'image/x-freehand',\n  fh7: 'image/x-freehand',\n  fhc: 'image/x-freehand',\n  flac: 'audio/x-flac',\n  fli: 'video/x-fli',\n  flv: 'video/x-flv',\n  fpx: 'image/vnd.fpx',\n  fst: 'image/vnd.fst',\n  fvt: 'video/vnd.fvt',\n  g3: 'image/g3fax',\n  gif: 'image/gif',\n  h261: 'video/h261',\n  h263: 'video/h263',\n  h264: 'video/h264',\n  heif: 'image/heif',\n  heic: 'image/heic',\n  htm: 'text/html',\n  html: 'text/html',\n  ico: 'image/x-icon',\n  ief: 'image/ief',\n  iso: 'application/x-iso9660-image',\n  jpe: 'image/jpeg',\n  jpeg: 'image/jpeg',\n  jpg: 'image/jpeg',\n  jpgm: 'video/jpm',\n  jpgv: 'video/jpeg',\n  jpm: 'video/jpm',\n  json: 'application/json',\n  jsonml: 'application/jsonml+json',\n  kar: 'audio/midi',\n  ktx: 'image/ktx',\n  list: 'text/plain',\n  log: 'text/plain',\n  lvp: 'audio/vnd.lucent.voice',\n  m13: 'application/x-msmediaview',\n  m14: 'application/x-msmediaview',\n  m1v: 'video/mpeg',\n  m21: 'application/mp21',\n  m2a: 'audio/mpeg',\n  m2v: 'video/mpeg',\n  m3a: 'audio/mpeg',\n  m3u: 'audio/x-mpegurl',\n  m3u8: 'application/vnd.apple.mpegurl',\n  m4a: 'audio/mp4',\n  m4u: 'video/vnd.mpegurl',\n  m4v: 'video/x-m4v',\n  mdi: 'image/vnd.ms-modi',\n  mid: 'audio/midi',\n  midi: 'audio/midi',\n  mj2: 'video/mj2',\n  mjp2: 'video/mj2',\n  mk3d: 'video/x-matroska',\n  mka: 'audio/x-matroska',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mmr: 'image/vnd.fujixerox.edmics-mmr',\n  mng: 'video/x-mng',\n  mov: 'video/quicktime',\n  movie: 'video/x-sgi-movie',\n  mp2: 'audio/mpeg',\n  mp21: 'application/mp21',\n  mp2a: 'audio/mpeg',\n  mp3: 'audio/mpeg',\n  mp4: 'video/mp4',\n  mp4a: 'audio/mp4',\n  mp4s: 'application/mp4',\n  mp4v: 'video/mp4',\n  mpe: 'video/mpeg',\n  mpeg: 'video/mpeg',\n  mpg: 'video/mpeg',\n  mpg4: 'video/mp4',\n  mpga: 'audio/mpeg',\n  mpkg: 'application/vnd.apple.installer+xml',\n  msi: 'application/x-msdownload',\n  mvb: 'application/x-msmediaview',\n  mxf: 'application/mxf',\n  mxml: 'application/xv+xml',\n  mxu: 'video/vnd.mpegurl',\n  npx: 'image/vnd.net-fpx',\n  odb: 'application/vnd.oasis.opendocument.database',\n  odc: 'application/vnd.oasis.opendocument.chart',\n  odf: 'application/vnd.oasis.opendocument.formula',\n  odft: 'application/vnd.oasis.opendocument.formula-template',\n  odg: 'application/vnd.oasis.opendocument.graphics',\n  odi: 'application/vnd.oasis.opendocument.image',\n  odm: 'application/vnd.oasis.opendocument.text-master',\n  odp: 'application/vnd.oasis.opendocument.presentation',\n  ods: 'application/vnd.oasis.opendocument.spreadsheet',\n  odt: 'application/vnd.oasis.opendocument.text',\n  oga: 'audio/ogg',\n  ogg: 'audio/ogg',\n  ogv: 'video/ogg',\n  ogx: 'application/ogg',\n  otc: 'application/vnd.oasis.opendocument.chart-template',\n  otg: 'application/vnd.oasis.opendocument.graphics-template',\n  oth: 'application/vnd.oasis.opendocument.text-web',\n  oti: 'application/vnd.oasis.opendocument.image-template',\n  otp: 'application/vnd.oasis.opendocument.presentation-template',\n  ots: 'application/vnd.oasis.opendocument.spreadsheet-template',\n  ott: 'application/vnd.oasis.opendocument.text-template',\n  oxt: 'application/vnd.openofficeorg.extension',\n  pbm: 'image/x-portable-bitmap',\n  pct: 'image/x-pict',\n  pcx: 'image/x-pcx',\n  pdf: 'application/pdf',\n  pgm: 'image/x-portable-graymap',\n  pic: 'image/x-pict',\n  plb: 'application/vnd.3gpp.pic-bw-large',\n  png: 'image/png',\n  pnm: 'image/x-portable-anymap',\n  pot: 'application/vnd.ms-powerpoint',\n  potx: 'application/vnd.openxmlformats-officedocument.presentationml.template',\n  ppm: 'image/x-portable-pixmap',\n  pps: 'application/vnd.ms-powerpoint',\n  ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  ppt: 'application/vnd.ms-powerpoint',\n  pptx: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  psb: 'application/vnd.3gpp.pic-bw-small',\n  psd: 'image/vnd.adobe.photoshop',\n  pvb: 'application/vnd.3gpp.pic-bw-var',\n  pya: 'audio/vnd.ms-playready.media.pya',\n  pyv: 'video/vnd.ms-playready.media.pyv',\n  qt: 'video/quicktime',\n  ra: 'audio/x-pn-realaudio',\n  ram: 'audio/x-pn-realaudio',\n  ras: 'image/x-cmu-raster',\n  rgb: 'image/x-rgb',\n  rip: 'audio/vnd.rip',\n  rlc: 'image/vnd.fujixerox.edmics-rlc',\n  rmi: 'audio/midi',\n  rmp: 'audio/x-pn-realaudio-plugin',\n  s3m: 'audio/s3m',\n  sgi: 'image/sgi',\n  sgm: 'text/sgml',\n  sgml: 'text/sgml',\n  sid: 'image/x-mrsid-image',\n  sil: 'audio/silk',\n  sldx: 'application/vnd.openxmlformats-officedocument.presentationml.slide',\n  smv: 'video/x-smv',\n  snd: 'audio/basic',\n  spx: 'audio/ogg',\n  srt: 'application/x-subrip',\n  sub: 'text/vnd.dvb.subtitle',\n  svg: 'image/svg+xml',\n  svgz: 'image/svg+xml',\n  swf: 'application/x-shockwave-flash',\n  tcap: 'application/vnd.3gpp2.tcap',\n  text: 'text/plain',\n  tga: 'image/x-tga',\n  tif: 'image/tiff',\n  tiff: 'image/tiff',\n  torrent: 'application/x-bittorrent',\n  tsv: 'text/tab-separated-values',\n  ttl: 'text/turtle',\n  txt: 'text/plain',\n  udeb: 'application/x-debian-package',\n  uva: 'audio/vnd.dece.audio',\n  uvg: 'image/vnd.dece.graphic',\n  uvh: 'video/vnd.dece.hd',\n  uvi: 'image/vnd.dece.graphic',\n  uvm: 'video/vnd.dece.mobile',\n  uvp: 'video/vnd.dece.pd',\n  uvs: 'video/vnd.dece.sd',\n  uvu: 'video/vnd.uvvu.mp4',\n  uvv: 'video/vnd.dece.video',\n  uvva: 'audio/vnd.dece.audio',\n  uvvg: 'image/vnd.dece.graphic',\n  uvvh: 'video/vnd.dece.hd',\n  uvvi: 'image/vnd.dece.graphic',\n  uvvm: 'video/vnd.dece.mobile',\n  uvvp: 'video/vnd.dece.pd',\n  uvvs: 'video/vnd.dece.sd',\n  uvvu: 'video/vnd.uvvu.mp4',\n  uvvv: 'video/vnd.dece.video',\n  viv: 'video/vnd.vivo',\n  vob: 'video/x-ms-vob',\n  wav: 'audio/x-wav',\n  wax: 'audio/x-ms-wax',\n  wbmp: 'image/vnd.wap.wbmp',\n  wdp: 'image/vnd.ms-photo',\n  weba: 'audio/webm',\n  webm: 'video/webm',\n  webp: 'image/webp',\n  wm: 'video/x-ms-wm',\n  wma: 'audio/x-ms-wma',\n  wmf: 'application/x-msmetafile',\n  wmv: 'video/x-ms-wmv',\n  wmx: 'video/x-ms-wmx',\n  wvx: 'video/x-ms-wvx',\n  xap: 'application/x-silverlight-app',\n  xbm: 'image/x-xbitmap',\n  xht: 'application/xhtml+xml',\n  xhtml: 'application/xhtml+xml',\n  xhvml: 'application/xv+xml',\n  xif: 'image/vnd.xiff',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xm: 'audio/xm',\n  xml: 'application/xml',\n  xop: 'application/xop+xml',\n  xpl: 'application/xproc+xml',\n  xpm: 'image/x-xpixmap',\n  xsl: 'application/xml',\n  xslt: 'application/xslt+xml',\n  xspf: 'application/xspf+xml',\n  xvm: 'application/xv+xml',\n  xvml: 'application/xv+xml',\n  xwd: 'image/x-xwindowdump',\n  zip: 'application/zip'\n};\nconst ext: {\n  [key: string]: string;\n} = {};\nexport function filemime(name: string) {\n  var fext = fileext(name);\n  return extmime[fext] || 'application/octet-stream';\n}\n\nexport function filetype(name: string): string {\n  var fext = fileext(name);\n  if (ext[fext]) {\n    return ext[fext][1];\n  } else if (fext && fext.length > 1) {\n    return '%1 File'.replace('%1', fext.toUpperCase());\n  } else {\n    return 'File';\n  }\n}\nexport function fileext(name: string, uppercase: boolean = false, iknowwhatimdoing: boolean = false) {\n  name = String(name || '');\n  if (!name) {\n    name = 'unknown';\n  }\n\n  var ext = name.substr(name.lastIndexOf('.') + 1);\n  if (ext === name) {\n    ext = '';\n  } else if (!iknowwhatimdoing) {\n    ext = ext.replace(/<[^>]*>/g, '').replace(/[^\\w+]/g, '');\n\n    if (ext.length > 9) {\n      ext = ext.substr(0, 9);\n    }\n  }\n\n  return uppercase ? ext.toUpperCase() : ext.toLowerCase();\n}\n","/* export default class Crc32 {\n  private crc: number = -1;\n  // Uint32Array is actually slower than []\n  static table: any[] = getCrcTable();\n  public append(data: any) {\n    var crc = this.crc | 0,\n      table = Crc32.table;\n    for (var offset = 0, len = data.length | 0; offset < len; offset++) crc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xff];\n    this.crc = crc;\n  }\n  public get() {\n    return ~this.crc;\n  }\n}\n\nfunction getCrcTable() {\n  var i,\n    j,\n    t,\n    table = [];\n  for (i = 0; i < 256; i++) {\n    t = i;\n    for (j = 0; j < 8; j++) {\n      if (t & 1) {\n        t = (t >>> 1) ^ 0xedb88320;\n      } else {\n        t = t >>> 1;\n      }\n    }\n\n    table[i] = t;\n  }\n\n  return table;\n}\n */\n// crc32\n\nvar crc32table = [\n  0x00000000,\n  0x77073096,\n  0xee0e612c,\n  0x990951ba,\n  0x076dc419,\n  0x706af48f,\n  0xe963a535,\n  0x9e6495a3,\n  0x0edb8832,\n  0x79dcb8a4,\n  0xe0d5e91e,\n  0x97d2d988,\n  0x09b64c2b,\n  0x7eb17cbd,\n  0xe7b82d07,\n  0x90bf1d91,\n  0x1db71064,\n  0x6ab020f2,\n  0xf3b97148,\n  0x84be41de,\n  0x1adad47d,\n  0x6ddde4eb,\n  0xf4d4b551,\n  0x83d385c7,\n  0x136c9856,\n  0x646ba8c0,\n  0xfd62f97a,\n  0x8a65c9ec,\n  0x14015c4f,\n  0x63066cd9,\n  0xfa0f3d63,\n  0x8d080df5,\n  0x3b6e20c8,\n  0x4c69105e,\n  0xd56041e4,\n  0xa2677172,\n  0x3c03e4d1,\n  0x4b04d447,\n  0xd20d85fd,\n  0xa50ab56b,\n  0x35b5a8fa,\n  0x42b2986c,\n  0xdbbbc9d6,\n  0xacbcf940,\n  0x32d86ce3,\n  0x45df5c75,\n  0xdcd60dcf,\n  0xabd13d59,\n  0x26d930ac,\n  0x51de003a,\n  0xc8d75180,\n  0xbfd06116,\n  0x21b4f4b5,\n  0x56b3c423,\n  0xcfba9599,\n  0xb8bda50f,\n  0x2802b89e,\n  0x5f058808,\n  0xc60cd9b2,\n  0xb10be924,\n  0x2f6f7c87,\n  0x58684c11,\n  0xc1611dab,\n  0xb6662d3d,\n  0x76dc4190,\n  0x01db7106,\n  0x98d220bc,\n  0xefd5102a,\n  0x71b18589,\n  0x06b6b51f,\n  0x9fbfe4a5,\n  0xe8b8d433,\n  0x7807c9a2,\n  0x0f00f934,\n  0x9609a88e,\n  0xe10e9818,\n  0x7f6a0dbb,\n  0x086d3d2d,\n  0x91646c97,\n  0xe6635c01,\n  0x6b6b51f4,\n  0x1c6c6162,\n  0x856530d8,\n  0xf262004e,\n  0x6c0695ed,\n  0x1b01a57b,\n  0x8208f4c1,\n  0xf50fc457,\n  0x65b0d9c6,\n  0x12b7e950,\n  0x8bbeb8ea,\n  0xfcb9887c,\n  0x62dd1ddf,\n  0x15da2d49,\n  0x8cd37cf3,\n  0xfbd44c65,\n  0x4db26158,\n  0x3ab551ce,\n  0xa3bc0074,\n  0xd4bb30e2,\n  0x4adfa541,\n  0x3dd895d7,\n  0xa4d1c46d,\n  0xd3d6f4fb,\n  0x4369e96a,\n  0x346ed9fc,\n  0xad678846,\n  0xda60b8d0,\n  0x44042d73,\n  0x33031de5,\n  0xaa0a4c5f,\n  0xdd0d7cc9,\n  0x5005713c,\n  0x270241aa,\n  0xbe0b1010,\n  0xc90c2086,\n  0x5768b525,\n  0x206f85b3,\n  0xb966d409,\n  0xce61e49f,\n  0x5edef90e,\n  0x29d9c998,\n  0xb0d09822,\n  0xc7d7a8b4,\n  0x59b33d17,\n  0x2eb40d81,\n  0xb7bd5c3b,\n  0xc0ba6cad,\n  0xedb88320,\n  0x9abfb3b6,\n  0x03b6e20c,\n  0x74b1d29a,\n  0xead54739,\n  0x9dd277af,\n  0x04db2615,\n  0x73dc1683,\n  0xe3630b12,\n  0x94643b84,\n  0x0d6d6a3e,\n  0x7a6a5aa8,\n  0xe40ecf0b,\n  0x9309ff9d,\n  0x0a00ae27,\n  0x7d079eb1,\n  0xf00f9344,\n  0x8708a3d2,\n  0x1e01f268,\n  0x6906c2fe,\n  0xf762575d,\n  0x806567cb,\n  0x196c3671,\n  0x6e6b06e7,\n  0xfed41b76,\n  0x89d32be0,\n  0x10da7a5a,\n  0x67dd4acc,\n  0xf9b9df6f,\n  0x8ebeeff9,\n  0x17b7be43,\n  0x60b08ed5,\n  0xd6d6a3e8,\n  0xa1d1937e,\n  0x38d8c2c4,\n  0x4fdff252,\n  0xd1bb67f1,\n  0xa6bc5767,\n  0x3fb506dd,\n  0x48b2364b,\n  0xd80d2bda,\n  0xaf0a1b4c,\n  0x36034af6,\n  0x41047a60,\n  0xdf60efc3,\n  0xa867df55,\n  0x316e8eef,\n  0x4669be79,\n  0xcb61b38c,\n  0xbc66831a,\n  0x256fd2a0,\n  0x5268e236,\n  0xcc0c7795,\n  0xbb0b4703,\n  0x220216b9,\n  0x5505262f,\n  0xc5ba3bbe,\n  0xb2bd0b28,\n  0x2bb45a92,\n  0x5cb36a04,\n  0xc2d7ffa7,\n  0xb5d0cf31,\n  0x2cd99e8b,\n  0x5bdeae1d,\n  0x9b64c2b0,\n  0xec63f226,\n  0x756aa39c,\n  0x026d930a,\n  0x9c0906a9,\n  0xeb0e363f,\n  0x72076785,\n  0x05005713,\n  0x95bf4a82,\n  0xe2b87a14,\n  0x7bb12bae,\n  0x0cb61b38,\n  0x92d28e9b,\n  0xe5d5be0d,\n  0x7cdcefb7,\n  0x0bdbdf21,\n  0x86d3d2d4,\n  0xf1d4e242,\n  0x68ddb3f8,\n  0x1fda836e,\n  0x81be16cd,\n  0xf6b9265b,\n  0x6fb077e1,\n  0x18b74777,\n  0x88085ae6,\n  0xff0f6a70,\n  0x66063bca,\n  0x11010b5c,\n  0x8f659eff,\n  0xf862ae69,\n  0x616bffd3,\n  0x166ccf45,\n  0xa00ae278,\n  0xd70dd2ee,\n  0x4e048354,\n  0x3903b3c2,\n  0xa7672661,\n  0xd06016f7,\n  0x4969474d,\n  0x3e6e77db,\n  0xaed16a4a,\n  0xd9d65adc,\n  0x40df0b66,\n  0x37d83bf0,\n  0xa9bcae53,\n  0xdebb9ec5,\n  0x47b2cf7f,\n  0x30b5ffe9,\n  0xbdbdf21c,\n  0xcabac28a,\n  0x53b39330,\n  0x24b4a3a6,\n  0xbad03605,\n  0xcdd70693,\n  0x54de5729,\n  0x23d967bf,\n  0xb3667a2e,\n  0xc4614ab8,\n  0x5d681b02,\n  0x2a6f2b94,\n  0xb40bbe37,\n  0xc30c8ea1,\n  0x5a05df1b,\n  0x2d02ef8d\n];\n\nexport default function crc32(data: any, crc?: any, len?: any) {\n  if (typeof crc === 'undefined') {\n    crc = 0;\n  }\n  if (typeof len === 'undefined') {\n    len = data.length;\n  }\n\n  var x = 0;\n  var y = 0;\n\n  var off = data.length - len;\n\n  crc = crc ^ -1;\n\n  for (var i = 0; i < len; i++) {\n    y = (crc ^ data[i + off]) & 0xff;\n    x = crc32table[y];\n    crc = (crc >>> 8) ^ x;\n  }\n\n  return crc ^ -1;\n}\n","//     Int64.js\n//\n//     Copyright (c) 2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n/**\n * Support for handling 64-bit int numbers in Javascript (node.js)\n *\n * JS Numbers are IEEE-754 binary double-precision floats, which limits the\n * range of values that can be represented with integer precision to:\n *\n * 2^^53 <= N <= 2^53\n *\n * Int64 objects wrap a node Buffer that holds the 8-bytes of int64 data.  These\n * objects operate directly on the buffer which means that if they are created\n * using an existing buffer then setting the value will modify the Buffer, and\n * vice-versa.\n *\n * Internal Representation\n *\n * The internal buffer format is Big Endian.  I.e. the most-significant byte is\n * at buffer[0], the least-significant at buffer[7].  For the purposes of\n * converting to/from JS native numbers, the value is assumed to be a signed\n * integer stored in 2's complement form.\n *\n * For details about IEEE-754 see:\n * http://en.wikipedia.org/wiki/Double_precision_floating-point_format\n */\n\n// Useful masks and values for bit twiddling\nvar MASK31 = 0x7fffffff,\n  VAL31 = 0x80000000;\nvar MASK32 = 0xffffffff,\n  VAL32 = 0x100000000;\n\n// Map for converting hex octets to strings\nvar _HEX = [];\nfor (var i = 0; i < 256; i++) {\n  _HEX[i] = (i > 0xf ? '' : '0') + i.toString(16);\n}\n\nvar hasBuffer = typeof Buffer !== 'undefined';\n\n//\n// Int64\n//\n\n/**\n * Constructor accepts any of the following argument types:\n *\n * new Int64(buffer[, offset=0]) - Existing Buffer with byte offset\n * new Int64(Uint8Array[, offset=0]) - Existing Uint8Array with a byte offset\n * new Int64(string)             - Hex string (throws if n is outside int64 range)\n * new Int64(number)             - Number (throws if n is outside int64 range)\n * new Int64(hi, lo)             - Raw bits as two 32-bit values\n */\nvar Int64 = function(a1, a2) {\n  var asIs = hasBuffer ? a1 instanceof Buffer : a1 instanceof Uint8Array;\n  if (asIs) {\n    this.buffer = a1;\n    this.offset = a2 || 0;\n  } else if (Object.prototype.toString.call(a1) == '[object Uint8Array]') {\n    // Under Browserify, Buffers can extend Uint8Arrays rather than an\n    // instance of Buffer. We could assume the passed in Uint8Array is actually\n    // a buffer but that won't handle the case where a raw Uint8Array is passed\n    // in. We construct a new Buffer just in case.\n    this.buffer = new Buffer(a1);\n    this.offset = a2 || 0;\n  } else {\n    this.buffer = this.buffer || (hasBuffer ? new Buffer(8) : new Uint8Array(8));\n    this.offset = 0;\n    this.setValue.apply(this, arguments);\n  }\n};\n\n// Max integer value that JS can accurately represent\nInt64.MAX_INT = Math.pow(2, 53);\n\n// Min integer value that JS can accurately represent\nInt64.MIN_INT = -Math.pow(2, 53);\n\nInt64.prototype = {\n  constructor: Int64,\n\n  /**\n   * Do in-place 2's compliment.  See\n   * http://en.wikipedia.org/wiki/Two's_complement\n   */\n  _2scomp: function() {\n    var b = this.buffer,\n      o = this.offset,\n      carry = 1;\n    for (var i = o + 7; i >= o; i--) {\n      var v = (b[i] ^ 0xff) + carry;\n      b[i] = v & 0xff;\n      carry = v >> 8;\n    }\n  },\n\n  /**\n   * Set the value. Takes any of the following arguments:\n   *\n   * setValue(string) - A hexidecimal string\n   * setValue(number) - Number (throws if n is outside int64 range)\n   * setValue(hi, lo) - Raw bits as two 32-bit values\n   */\n  setValue: function(hi, lo) {\n    var negate = false;\n    if (arguments.length == 1) {\n      if (typeof hi == 'number') {\n        // Simplify bitfield retrieval by using abs() value.  We restore sign\n        // later\n        negate = hi < 0;\n        hi = Math.abs(hi);\n        lo = hi % VAL32;\n        hi = hi / VAL32;\n        if (hi > VAL32) throw new RangeError(hi + ' is outside Int64 range');\n        hi = hi | 0;\n      } else if (typeof hi == 'string') {\n        hi = (hi + '').replace(/^0x/, '');\n        lo = hi.substr(-8);\n        hi = hi.length > 8 ? hi.substr(0, hi.length - 8) : '';\n        hi = parseInt(hi, 16);\n        lo = parseInt(lo, 16);\n      } else {\n        throw new Error(hi + ' must be a Number or String');\n      }\n    }\n\n    // Technically we should throw if hi or lo is outside int32 range here, but\n    // it's not worth the effort. Anything past the 32'nd bit is ignored.\n\n    // Copy bytes to buffer\n    var b = this.buffer,\n      o = this.offset;\n    for (var i = 7; i >= 0; i--) {\n      b[o + i] = lo & 0xff;\n      lo = i == 4 ? hi : lo >>> 8;\n    }\n\n    // Restore sign of passed argument\n    if (negate) this._2scomp();\n  },\n\n  /**\n   * Convert to a native JS number.\n   *\n   * WARNING: Do not expect this value to be accurate to integer precision for\n   * large (positive or negative) numbers!\n   *\n   * @param allowImprecise If true, no check is performed to verify the\n   * returned value is accurate to integer precision.  If false, imprecise\n   * numbers (very large positive or negative numbers) will be forced to +/-\n   * Infinity.\n   */\n  toNumber: function(allowImprecise) {\n    var b = this.buffer,\n      o = this.offset;\n\n    // Running sum of octets, doing a 2's complement\n    var negate = b[o] & 0x80,\n      x = 0,\n      carry = 1;\n    for (var i = 7, m = 1; i >= 0; i--, m *= 256) {\n      var v = b[o + i];\n\n      // 2's complement for negative numbers\n      if (negate) {\n        v = (v ^ 0xff) + carry;\n        carry = v >> 8;\n        v = v & 0xff;\n      }\n\n      x += v * m;\n    }\n\n    // Return Infinity if we've lost integer precision\n    if (!allowImprecise && x >= Int64.MAX_INT) {\n      return negate ? -Infinity : Infinity;\n    }\n\n    return negate ? -x : x;\n  },\n\n  /**\n   * Convert to a JS Number. Returns +/-Infinity for values that can't be\n   * represented to integer precision.\n   */\n  valueOf: function() {\n    return this.toNumber(false);\n  },\n\n  /**\n   * Return string value\n   *\n   * @param radix Just like Number#toString()'s radix\n   */\n  toString: function(radix) {\n    return this.valueOf().toString(radix || 10);\n  },\n\n  /**\n   * Return a string showing the buffer octets, with MSB on the left.\n   *\n   * @param sep separator string. default is '' (empty string)\n   */\n  toOctetString: function(sep) {\n    var out = new Array(8);\n    var b = this.buffer,\n      o = this.offset;\n    for (var i = 0; i < 8; i++) {\n      out[i] = _HEX[b[o + i]];\n    }\n    return out.join(sep || '');\n  },\n\n  /**\n   * Returns the int64's 8 bytes in a buffer.\n   *\n   * @param {bool} [rawBuffer=false]  If no offset and this is true, return the internal buffer.  Should only be used if\n   *                                  you're discarding the Int64 afterwards, as it breaks encapsulation.\n   */\n  toBuffer: function(rawBuffer) {\n    if (rawBuffer && this.offset === 0) return this.buffer;\n\n    var out = new Buffer(8);\n    this.buffer.copy(out, 0, this.offset, this.offset + 8);\n    return out;\n  },\n\n  /**\n   * Copy 8 bytes of int64 into target buffer at target offset.\n   *\n   * @param {Buffer} targetBuffer       Buffer to copy into.\n   * @param {number} [targetOffset=0]   Offset into target buffer.\n   */\n  copy: function(targetBuffer, targetOffset) {\n    this.buffer.copy(targetBuffer, targetOffset || 0, this.offset, this.offset + 8);\n  },\n\n  /**\n   * Returns a number indicating whether this comes before or after or is the\n   * same as the other in sort order.\n   *\n   * @param {Int64} other  Other Int64 to compare.\n   */\n  compare: function(other) {\n    // If sign bits differ ...\n    if ((this.buffer[this.offset] & 0x80) != (other.buffer[other.offset] & 0x80)) {\n      return other.buffer[other.offset] - this.buffer[this.offset];\n    }\n\n    // otherwise, compare bytes lexicographically\n    for (var i = 0; i < 8; i++) {\n      if (this.buffer[this.offset + i] !== other.buffer[other.offset + i]) {\n        return this.buffer[this.offset + i] - other.buffer[other.offset + i];\n      }\n    }\n    return 0;\n  },\n\n  /**\n   * Returns a boolean indicating if this integer is equal to other.\n   *\n   * @param {Int64} other  Other Int64 to compare.\n   */\n  equals: function(other) {\n    return this.compare(other) === 0;\n  },\n\n  /**\n   * Pretty output in console.log\n   */\n  inspect: function() {\n    return '[Int64 value:' + this + ' octets:' + this.toOctetString(' ') + ']';\n  }\n};\n\nexport default Int64;\n","import Crc32 from '../utils/crc32';\nimport Int64 from '../utils/Int64';\nimport SavvyFile from '../file';\nimport SavvyZipFile from '../zip_file';\ntype THeadAndFooter = { buffer: ArrayBuffer; array: Uint8Array; view: DataView };\n\nlet appendABViewSupported: boolean = false;\ntry {\n  appendABViewSupported = new Blob([new DataView(new ArrayBuffer(0))]).size === 0;\n} catch (e) {\n  console.log(e);\n}\n\nconst CHUNK_SIZE = 512 * 1024;\nexport class ZipWriter {\n  private writer: any;\n  private fileNames: string[] = [];\n  private files: any = {};\n  private dataLength: number = 0;\n\n  private offset: number = 0;\n\n  public async add(currentFile: SavvyFile, zipFile: SavvyZipFile, _buffer: ArrayBuffer, isLast: boolean): Promise<undefined> {\n    // part of the current file.\n    let buffer: Uint8Array = new Uint8Array(_buffer);\n\n    let crc: number = Crc32(buffer, currentFile.crc || 0, buffer.byteLength);\n    let ziper: ZIPClass = new ZIPClass(zipFile.fileSize);\n\n    let fileName: string = unescape(encodeURIComponent(currentFile.name));\n    currentFile.bufferAcc += buffer.byteLength;\n    currentFile.crc = crc;\n\n    if (currentFile.offset === 0) {\n      // begin set header\n      currentFile.headerPos = zipFile.offset;\n      let ebuf: any = ezBuffer(1 + 4 + 4 + fileName.length);\n      ebuf.i16(zipUtf8ExtraId);\n      ebuf.i16(5 + fileName.length); // size\n      ebuf.i8(1); // version\n      ebuf.i32(Crc32(fileName));\n      ebuf.appendBytes(fileName);\n\n      let header: Uint8Array = ziper.ZipHeader(fileName, currentFile.fileSize /* TO-DO: add file date */, ebuf.getArray());\n\n      let d = new Uint8Array(header.byteLength + buffer.byteLength);\n      d.set(header, 0);\n      d.set(buffer, header.byteLength);\n\n      buffer = d;\n      // console.log('add header');\n    }\n\n    // begin set central directory\n    if (currentFile.bufferAcc === currentFile.fileSize) {\n      let centralDir = ziper.ZipCentralDirectory(fileName, currentFile.fileSize, currentFile.fileSize, crc, false, currentFile.headerPos);\n      // zipFile.dirData.push(centralDir.dirRecord);\n      let centralDirBuffer: Uint8Array = centralDir.dataDescriptor;\n\n      let d = new Uint8Array(buffer.byteLength + centralDirBuffer.byteLength);\n      d.set(buffer, 0);\n      d.set(centralDirBuffer, buffer.byteLength);\n\n      buffer = d;\n    } else {\n      currentFile.offset += buffer.byteLength;\n    }\n\n    if (isLast) {\n      let end = ziper.ZipSuffix(buffer.byteLength + zipFile.offset, []);\n\n      // console.log('this file is the last to be added to this zip, add end.');\n\n      let dirData: any[] = zipFile.files.map(\n        (file: SavvyFile) => ziper.ZipCentralDirectory(unescape(encodeURIComponent(file.name)), file.fileSize, file.fileSize, file.crc, false, file.headerPos).dirRecord\n      );\n\n      let tmpSize: number = 0,\n        tmpOffset: number = buffer.byteLength,\n        tmpBuf: Uint8Array;\n\n      for (let i in dirData) {\n        tmpSize += dirData[i].byteLength;\n      }\n\n      tmpBuf = new Uint8Array(buffer.byteLength + tmpSize + end.byteLength);\n\n      tmpBuf.set(buffer, 0);\n\n      for (let i in dirData) {\n        // console.log(this.dirData[i], tmpOffset);\n        tmpBuf.set(dirData[i], tmpOffset);\n        tmpOffset += dirData[i].byteLength;\n      }\n\n      tmpBuf.set(end, tmpOffset);\n\n      buffer = tmpBuf;\n    }\n\n    zipFile.offset += buffer.byteLength;\n\n    // console.log('get a finalliy buffer, length: ' + buffer.byteLength);\n    return new Promise((resolve: Function, reject: Function) => {\n      let tmpWrite: FileWriter = zipFile.fileWriter;\n      tmpWrite.onwriteend = (e: ProgressEvent) => {\n        resolve();\n      };\n      tmpWrite.onerror = () => {\n        reject();\n      };\n      tmpWrite.write(new Blob([buffer]));\n    });\n  }\n\n  /* private writeHeader(name: string, fileName: number[]): Promise<any> {\n    let data: { buffer: ArrayBuffer; array: Uint8Array; view: DataView };\n    let date: Date = new Date();\n    let header = getDataHelper(26);\n    this.files[name] = {\n      headerArray: header.array,\n      directory: false,\n      filename: fileName,\n      offset: this.dataLength,\n      comment: getBytes(encodeUTF8(''))\n    };\n    header.view.setUint32(0, 0x14000808);\n    header.view.setUint16(6, (((date.getHours() << 6) | date.getMinutes()) << 5) | (date.getSeconds() / 2), true);\n    header.view.setUint16(8, ((((date.getFullYear() - 1980) << 4) | (date.getMonth() + 1)) << 5) | date.getDate(), true);\n    header.view.setUint16(22, fileName.length, true);\n    data = getDataHelper(30 + fileName.length);\n    data.view.setUint32(0, 0x504b0304);\n    data.array.set(header.array, 4);\n    data.array.set(fileName, 30);\n    this.dataLength += data.array.length;\n\n    return new Promise((resolve: Function, reject: Function) => {\n      let tmpWrite: FileWriter = this.writer;\n      tmpWrite.onwriteend = (e: ProgressEvent) => {\n        resolve(header);\n      };\n      tmpWrite.onerror = () => {\n        reject();\n      };\n      tmpWrite.write(new Blob([appendABViewSupported ? data.array : data.array.buffer]));\n    });\n    // this.writer.writeUint8Array(data.array, callback, onwriteerror);\n  } \n  private writeFooter(compressedLength: number, crc32: number, reader: BlobReader, header: THeadAndFooter): Promise<any> {\n    var footer: THeadAndFooter = getDataHelper(16);\n    this.dataLength += compressedLength || 0;\n    footer.view.setUint32(0, 0x504b0708);\n    if (typeof crc32 != 'undefined') {\n      header.view.setUint32(10, crc32, true);\n      footer.view.setUint32(4, crc32, true);\n    }\n    if (reader) {\n      footer.view.setUint32(8, compressedLength, true);\n      header.view.setUint32(14, compressedLength, true);\n      footer.view.setUint32(12, reader.size, true);\n      header.view.setUint32(18, reader.size, true);\n    }\n\n    return new Promise((resolve: Function, reject: Function) => {\n      let tmpWrite: FileWriter = this.writer;\n      tmpWrite.onwriteend = (e: ProgressEvent) => {\n        resolve();\n      };\n      tmpWrite.onerror = () => {\n        reject();\n      };\n      tmpWrite.write(new Blob([appendABViewSupported ? footer.array : footer.array.buffer]));\n    });\n  }\n\n  private async copy(reader: BlobReader, offset: number, size: number, computeCrc32: boolean): Promise<number> {\n    let chunkIndex = 0,\n      index,\n      outputSize = 0,\n      crcInput: boolean = true;\n    let crc = new Crc32();\n\n    // let outputData;\n    // index = chunkIndex * CHUNK_SIZE;\n    // if (index < size) {\n    //   let inputData = await reader.readUint8Array(offset + index, Math.min(CHUNK_SIZE, size - index));\n\n    //   if(inputData){\n    //     outputSize += inputData.length;\n    //     await this.writer.writeUint8Array()\n    //   }\n    // } else {\n    // }\n    // get all content once.\n    let inputData: Uint8Array = await reader.readUint8Array();\n    crc.append(inputData);\n    await new Promise((resolve: Function, reject: Function) => {\n      let tmpWrite: FileWriter = this.writer;\n      tmpWrite.onwriteend = (e: ProgressEvent) => {\n        resolve();\n      };\n      tmpWrite.onerror = () => {\n        reject();\n      };\n      tmpWrite.write(new Blob([appendABViewSupported ? inputData : inputData.buffer]));\n    });\n\n    return crc.get();\n  } */\n}\nexport class BlobReader {\n  private file: File;\n  public size: number;\n  constructor(_file: File) {\n    this.file = _file;\n    this.size = _file.size;\n  }\n\n  public readUint8Array(): Promise<Uint8Array> {\n    return new Promise((resolve: Function, reject: Function) => {\n      let reader: FileReader = new FileReader();\n      // TO-DO: may be wrong\n      reader.onload = (e: any): void => {\n        resolve(new Uint8Array(reader.result as ArrayBuffer));\n      };\n\n      reader.onerror = (): void => {\n        reject();\n      };\n\n      try {\n        reader.readAsArrayBuffer(this.file);\n      } catch (e) {\n        reject();\n      }\n    });\n  }\n}\nexport function createZipWriter(): ZipWriter {\n  return new ZipWriter();\n}\n\nconst fileHeaderLen: number = 30;\nconst noCompression: number = 0;\nconst defaultFlags: number = 0x808; /* UTF-8 */\nconst i32max: number = 0xffffffff;\nconst i16max: number = 0xffff;\nconst zip64ExtraId: number = 0x0001;\nconst zipUtf8ExtraId: number = 0x7075;\nconst directory64LocLen: number = 20;\nconst directory64EndLen: number = 56;\nconst directoryEndLen: number = 22;\nconst fileHeaderSignature: number = 0x04034b50;\nconst directory64LocSignature: number = 0x07064b50;\nconst directory64EndSignature: number = 0x06064b50;\nconst directoryEndSignature: number = 0x06054b50;\nconst dataDescriptorSignature: number = 0x08074b50; // de-facto standard; required by OS X Finder\nconst directoryHeaderSignature: number = 0x02014b50;\nconst dataDescriptorLen: number = 16;\nconst dataDescriptor64Len: number = 24;\nconst directoryHeaderLen: number = 46;\n\nclass ZIPClass {\n  private maxZipSize: number = Math.pow(2, 31) * 0.9;\n  private isZip64: boolean = false;\n  private zipVersion: number = 20;\n\n  constructor(totalSize: number) {\n    this.isZip64 = totalSize > this.maxZipSize || localStorage.zip64 === 1;\n    this.zipVersion = this.isZip64 ? 45 : 20;\n  }\n\n  ZipHeader(fileName: string, fileSize: number, extra: number[]) {\n    let readerVersion: number = this.zipVersion,\n      Flags: number = defaultFlags,\n      Method: number = noCompression,\n      date: number = 0,\n      crc32: number = 0,\n      unsize: number = 0;\n\n    let buf = ezBuffer(fileHeaderLen + fileName.length + extra.length);\n    buf.i32(fileHeaderSignature);\n    buf.i16(readerVersion);\n    buf.i16(Flags);\n    buf.i16(Method);\n    DosDateTime(date, buf);\n    buf.i32(crc32); // crc32\n    buf.i32(fileSize); // compress size\n    buf.i32(unsize); // uncompress size\n    buf.i16(fileName.length);\n    buf.i16(extra.length);\n    buf.appendBytes(fileName);\n    buf.appendBytes(extra);\n\n    return buf.getBytes();\n  }\n  /**\n   * @param {number} size compressed size\n   * @param {number} unsize uncompress size\n   * @param {number} crc32\n   * @param {boolean} directory\n   * @param {number} headerpos header position\n   */\n\n  ZipCentralDirectory(filename: string, size: number, unsize: number, crc32: number, directory: boolean, headerpos: number) {\n    let creatorVersion: number = this.zipVersion;\n    let readerVersion: number = this.zipVersion;\n    let Flags: number = defaultFlags;\n    let Method: number = noCompression;\n    let date: number = 0;\n    let externalAttr: number = directory ? 1 : 0;\n\n    let extra: number[] = [],\n      ebuf: any;\n\n    if (this.isZip64) {\n      ebuf = ezBuffer(28); // 2xi16 + 3xi64\n      ebuf.i16(zip64ExtraId);\n      ebuf.i16(24);\n      ebuf.i64(size);\n      ebuf.i64(unsize);\n      ebuf.i64(headerpos);\n      extra = extra.concat(ebuf.getArray());\n    }\n\n    var centralDirectoryBuf = ezBuffer(directoryHeaderLen + filename.length + extra.length);\n    centralDirectoryBuf.i32(directoryHeaderSignature);\n    centralDirectoryBuf.i16(creatorVersion);\n    centralDirectoryBuf.i16(readerVersion);\n    centralDirectoryBuf.i16(Flags);\n    centralDirectoryBuf.i16(Method);\n    DosDateTime(date, centralDirectoryBuf);\n    centralDirectoryBuf.i32(crc32);\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : size);\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : unsize);\n    centralDirectoryBuf.i16(filename.length);\n    centralDirectoryBuf.i16(extra.length);\n    centralDirectoryBuf.i16(0); // no comments\n    centralDirectoryBuf.i32(0); // disk number\n    centralDirectoryBuf.i32(externalAttr);\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : headerpos);\n    centralDirectoryBuf.appendBytes(filename);\n    centralDirectoryBuf.appendBytes(extra);\n\n    var dataDescriptorBuf = ezBuffer(this.isZip64 ? dataDescriptor64Len : dataDescriptorLen);\n    dataDescriptorBuf.i32(dataDescriptorSignature);\n    dataDescriptorBuf.i32(crc32);\n    if (this.isZip64) {\n      dataDescriptorBuf.i64(size);\n      dataDescriptorBuf.i64(unsize);\n    } else {\n      dataDescriptorBuf.i32(size);\n      dataDescriptorBuf.i32(unsize);\n    }\n\n    return {\n      dirRecord: centralDirectoryBuf.getBytes(),\n      dataDescriptor: dataDescriptorBuf.getBytes()\n    };\n  }\n\n  ZipSuffix(pos: number, dirData: Uint8Array[]) {\n    var dirDatalength = 0;\n    for (var i in dirData) {\n      dirDatalength += dirData[i].length;\n    }\n\n    var buf = ezBuffer(22);\n    if (this.isZip64) {\n      var xbuf = ezBuffer(directory64EndLen + directory64LocLen);\n      xbuf.i32(directory64EndSignature);\n      // directory64EndLen - 4 bytes - 8 bytes\n      xbuf.i64(directory64EndLen - 4 - 8);\n      xbuf.i16(this.zipVersion);\n      xbuf.i16(this.zipVersion);\n      xbuf.i32(0); // disk number\n      xbuf.i32(0); // number of the disk with the start of the central directory\n      xbuf.i64(dirData.length);\n      xbuf.i64(dirData.length);\n      xbuf.i64(dirDatalength);\n      xbuf.i64(pos);\n\n      xbuf.i32(directory64LocSignature);\n      xbuf.i32(0);\n      xbuf.i64(pos + dirDatalength);\n      xbuf.i32(1); // total number of disks\n      buf.resize(22 + xbuf.getBytes().length);\n      buf.appendBytes(xbuf.getBytes());\n    }\n\n    buf.i32(directoryEndSignature);\n    buf.i32(0); // skip\n    buf.i16(this.isZip64 ? i16max : dirData.length);\n    buf.i16(this.isZip64 ? i16max : dirData.length);\n    buf.i32(this.isZip64 ? i32max : dirDatalength);\n    buf.i32(this.isZip64 ? i32max : pos);\n    buf.i16(0); // no comments\n\n    return buf.getBytes();\n  }\n}\n\nfunction ezBuffer(size: number) {\n  var obj = new Uint8Array(size),\n    buffer = new DataView(obj.buffer),\n    offset = 0;\n  return {\n    debug: function() {\n      console.error(['DEBUG', offset, obj.length]);\n    },\n    getArray: function(): number[] {\n      let bytes: number[] = [];\n      obj.map(\n        (val: number, i: number, array: Uint8Array): number => {\n          bytes.push(val);\n\n          return val;\n        }\n      );\n      return bytes;\n    },\n    getBytes: function() {\n      return obj;\n    },\n    appendBytes: function(text: number[] | Uint8Array | string) {\n      var isArray = typeof text != 'string';\n      for (var i = text.length; i--; ) {\n        if (isArray) {\n          obj[offset + i] = (text as number[] | Uint8Array)[i];\n        } else {\n          // We assume it is an string\n          obj[offset + i] = (text as string).charCodeAt(i);\n        }\n      }\n      offset += text.length;\n    },\n    i64: function(number: number, bigendian?: boolean) {\n      var buffer = new Int64(number).buffer;\n      if (!bigendian) {\n        // swap the by orders\n        var nbuffer = new Uint8Array(buffer.length),\n          len = buffer.length - 1;\n        for (var i = len; i >= 0; i--) {\n          nbuffer[i] = buffer[len - i];\n        }\n        buffer = nbuffer;\n      }\n      // append the buffer\n      this.appendBytes(buffer);\n    },\n    i32: function(number: number, bigendian?: boolean) {\n      buffer.setInt32(offset, number, !bigendian);\n      offset += 4;\n    },\n    i16: function(number: number, bigendian?: boolean) {\n      buffer.setInt16(offset, number, !bigendian);\n      offset += 2;\n    },\n    i8: function(number: number, bigendian?: boolean) {\n      buffer.setInt8(offset, number);\n      offset += 1;\n    },\n    resize: function(newsize: number) {\n      let zobj = new Uint8Array(newsize);\n      zobj.set(obj, 0);\n      obj = zobj;\n      buffer = new DataView(obj.buffer);\n      return obj;\n    },\n    /**\n     *  Check if the current bytestream has enough\n     *  size to add \"size\" more bytes. If it doesn't have\n     *  we return a new bytestream object\n     */\n    resizeIfNeeded: function(size: number) {\n      if (obj.length < size + offset) {\n        return this.resize(size + offset);\n      }\n      return obj;\n    }\n  };\n}\n\n/**\n *  Set an unix time (or now if missing) in the zip\n *  expected format\n */\nfunction DosDateTime(sec: number, buf: any) {\n  var date = new Date(),\n    dosTime,\n    dosDate;\n\n  if (sec) {\n    date = new Date(sec * 1000);\n  }\n\n  dosTime = date.getHours();\n  dosTime = dosTime << 6;\n  dosTime = dosTime | date.getMinutes();\n  dosTime = dosTime << 5;\n  dosTime = dosTime | (date.getSeconds() / 2);\n\n  dosDate = date.getFullYear() - 1980;\n  dosDate = dosDate << 4;\n  dosDate = dosDate | (date.getMonth() + 1);\n  dosDate = dosDate << 5;\n  dosDate = dosDate | date.getDate();\n\n  buf.i16(dosTime);\n  buf.i16(dosDate);\n}\n\nfunction blobSlice(blob: any, index: number, length: number) {\n  if (index < 0 || length < 0 || index + length > blob.size) throw new RangeError('offset:' + index + ', length:' + length + ', size:' + blob.size);\n  if (blob.slice) return blob.slice(index, index + length);\n  else if (blob.webkitSlice) return blob.webkitSlice(index, index + length);\n  else if (blob.mozSlice) return blob.mozSlice(index, index + length);\n  else if (blob.msSlice) return blob.msSlice(index, index + length);\n}\nfunction encodeUTF8(str: string) {\n  return unescape(encodeURIComponent(str));\n}\nfunction getBytes(str: string) {\n  var i,\n    array = [];\n  for (i = 0; i < str.length; i++) array.push(str.charCodeAt(i));\n  return array;\n}\n\nfunction getDataHelper(byteLength: number, bytes?: any): { buffer: ArrayBuffer; array: Uint8Array; view: DataView } {\n  var dataBuffer, dataArray;\n  dataBuffer = new ArrayBuffer(byteLength);\n  dataArray = new Uint8Array(dataBuffer);\n  if (bytes) dataArray.set(bytes, 0);\n  return {\n    buffer: dataBuffer,\n    array: dataArray,\n    view: new DataView(dataBuffer)\n  };\n}\n","import IO from './IO';\nimport { filemime } from '../utils/index';\nimport SavvyFile from '../file';\nimport { createZipWriter, ZipWriter, BlobReader } from './zip';\nimport SavvyZipFile from '../zip_file';\n\nconst customWindow: any = window;\nconst TEMPORARY: number = 0;\nconst PERSISTENT: number = 1;\n\nexport default class FilesystemIO extends IO {\n  private freeSpaceRequest: boolean = false;\n  private entrtiesReaded: boolean = false;\n  private allEntries: Entry[] = [];\n  private allResumeFiles: Array<SavvyFile | SavvyZipFile> = [];\n  constructor() {\n    super();\n    customWindow.requestFileSystem = customWindow.requestFileSystem || customWindow.webkitRequestFileSystem;\n    // 创建文件系统, 临时空间会被浏览器自行判断, 在需要时删除, 永久空间不会, 但申请时需要用户允许.\n    // window.requestFileSystem(type, size, successCallback[, errorCallback]);\n    customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\n      // free space....\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\n        let dirReader: DirectoryReader = directoryEntry.createReader();\n\n        dirReader.readEntries((entries: Entry[]) => {\n          // TO-DO: can not just simply clear all old files, need to keep files which are not completely downloaded.\n          console.log(entries);\n          this.allEntries = entries;\n          this.entrtiesReaded = true;\n          if (this.freeSpaceRequest) {\n            this.freeSpace(this.allResumeFiles);\n          }\n          /* entries.map((entry: Entry) => {\n            entry.remove(() => {\n              console.log('remove file [' + entry.name + '] from filesystem successful.');\n            });\n          }); */\n        });\n      });\n    });\n  }\n  public removeFile(file: SavvyFile | SavvyZipFile): Promise<undefined> {\n    return new Promise((resolve: Function, reject: Function) => {\n      customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\n        fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\n          let dirReader: DirectoryReader = directoryEntry.createReader();\n\n          dirReader.readEntries((entries: Entry[]) => {\n            entries.forEach((entry: Entry) => {\n              // TO-DO: need check if this file is being write to filesystem...\n              if (entry.name === file.name + file.id) {\n                entry.remove(() => {\n                  console.log('remove file [' + entry.name + '] from filesystem successful.');\n\n                  resolve();\n                });\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n\n  public removeAll() {\n    customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\n      // free space....\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\n        let dirReader: DirectoryReader = directoryEntry.createReader();\n\n        dirReader.readEntries((entries: Entry[]) => {\n          // TO-DO: can not just simply clear all old files, need to keep files which are not completely downloaded.\n          entries.map((entry: Entry) => {\n            entry.remove(() => {\n              console.log('remove file [' + entry.name + '] from filesystem successful.');\n            });\n          });\n        });\n      });\n    });\n  }\n  /**\n   * @param {SavvyFile} file\n   * @param {Function} successCallback\n   * @param {Function} errorCallback\n   */\n  public getFileWriter(file: SavvyFile | SavvyZipFile, successCallback: Function, errorCallback: Function): void {\n    customWindow.requestFileSystem(TEMPORARY, file.fileSize, (fs: FileSystem) => {\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\n        fs.root.getFile('savvy/' + file.name + file.id, { create: true }, (fileEntry: FileEntry) => {\n          fileEntry.getMetadata((metadata: Metadata) => {\n            // console.log(metadata);\n            fileEntry.createWriter((fw: FileWriter) => {\n              if (metadata.size && metadata.size !== 0) {\n                // set offset as file size, the plus op may not effective\n                if (file.offset === metadata.size) {\n                  // console.log(file.offset, metadata.size);\n                  fw.seek(file.offset + 1);\n                } else if (file.offset < metadata.size) {\n                  // console.log(file.offset + ' ,' + metadata.size + ' - finally find u!');\n                  fw.onwriteend = () => {\n                    fw.seek(file.offset + 1);\n                    successCallback({\n                      fileEntry: fileEntry,\n                      fileWriter: fw\n                    });\n\n                    return;\n                  };\n\n                  fw.truncate(file.offset);\n                } else {\n                  fw.seek(0);\n\n                  (file as SavvyZipFile).abortAllResumeData();\n                }\n              }\n              successCallback({\n                fileEntry: fileEntry,\n                fileWriter: fw\n              });\n            });\n          });\n        });\n      });\n    });\n  }\n  public freeSpace(files: Array<SavvyFile | SavvyZipFile>): void {\n    if (this.entrtiesReaded) {\n      this.freeSpaceRequest = false;\n      this.allEntries.forEach((entry: Entry) => {\n        let tmpFile: SavvyFile | SavvyZipFile | undefined = files.find((file: SavvyFile | SavvyZipFile) => file.name + file.id === entry.name);\n        // this file need be remove.\n        if (tmpFile === undefined) {\n          entry.remove(\n            () => {\n              console.log(entry.name + ' removed.');\n            },\n            (err: DOMError) => {}\n          );\n        }\n      });\n    } else {\n      this.allResumeFiles = files;\n      this.freeSpaceRequest = true;\n    }\n  }\n  /**\n   * @param {SavvyFile} file\n   * @param {ArrayBuffer} buffer\n   */\n  public write(file: SavvyFile | SavvyZipFile, buffer: ArrayBuffer): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (file.fileWriter) {\n        let fileWriter: FileWriter = file.fileWriter as FileWriter;\n        if (file.isZip) {\n          let tmpZipFile: SavvyZipFile = file as SavvyZipFile;\n          let zipWriter: ZipWriter = createZipWriter();\n          let currentFile: SavvyFile = tmpZipFile.currentFile;\n          zipWriter.add(currentFile, tmpZipFile, buffer, tmpZipFile.nowChunkIndex === tmpZipFile.chunklist.length).then(() => {\n            resolve();\n          });\n        } else {\n          try {\n            fileWriter.onwriteend = (e: ProgressEvent) => {\n              resolve();\n            };\n            fileWriter.write(new Blob([buffer]));\n          } catch (e) {\n            console.log(e);\n            reject();\n          }\n        }\n      } else {\n        console.log('file has no file writer');\n        reject();\n      }\n    });\n  }\n  /**\n   * do not delete file while it's being copied from FS to DL folder\n   * conservative assumption that a file is being written at 1024 bytes per ms\n   * add 30000 ms margin\n   */\n  public deleteFile(file: SavvyFile | SavvyZipFile): void {\n    // let assume\n    if (file.fileEntry) {\n      let _file = file.fileEntry as FileEntry;\n      if (_file.isFile) {\n        _file.getMetadata(\n          (metadata: Metadata) => {\n            let delTime: number = metadata.size / 1024 + 30000;\n            setTimeout(() => {\n              _file.remove(() => {\n                console.log('file ' + file.name + ' being removed from filesystem...');\n              });\n            }, delTime);\n          },\n          (err: DOMError) => {\n            console.log(err);\n          }\n        );\n      }\n      /* (file.fileEntry as FileEntry).file((_file: File) =>{\n        _file.get\n      }, (err: DOMError) =>{\n        console.log(err);\n      }) */\n    }\n  }\n\n  /**\n   * @param {SavvyFile}File\n   * @param {SavvyFile[]}Files\n   * @public\n   */\n  public download(files: Array<SavvyFile | SavvyZipFile>): void {\n    for (let i: number = 0, l: number = files.length; i < l; i++) {\n      let fileEntry: FileEntry = files[i].fileEntry as FileEntry;\n      if (typeof files[i].fileEntry.file === 'function') {\n        try {\n          fileEntry.file(\n            (file: File) => {\n              this.saveFile(files[i], file);\n            },\n            () => {\n              this.saveLink(files[i]);\n            }\n          );\n        } catch (e) {\n          console.log(e);\n        }\n      } else {\n        this.saveLink(files[i]);\n      }\n    }\n  }\n  /**\n   * @param {SavvyFile}file\n   * @param {String?}objectURL\n   * @private\n   */\n  private saveLink = (file: SavvyFile | SavvyZipFile, objectURL?: string) => {\n    let link: string | false = typeof objectURL === 'string' && objectURL;\n    let dlLinkNode: HTMLAnchorElement = document.createElement('a');\n\n    dlLinkNode.download = file.name;\n    dlLinkNode.href = link || file.fileEntry.toURL();\n\n    dlLinkNode.click();\n  };\n  /**\n   * @param {SavvyFile}savvyFile\n   * @param {File}file\n   * @private\n   */\n  private saveFile = (savvyFile: SavvyFile | SavvyZipFile, file: File) => {\n    try {\n      let _file: File = new File([file], savvyFile.name, {\n        type: filemime(savvyFile.name)\n      });\n\n      this.saveLink(savvyFile, window.URL.createObjectURL(_file));\n    } catch (ex) {\n      console.log(ex);\n      this.saveLink(savvyFile);\n    }\n  };\n}\n","import IO from './IO';\nimport { filemime } from '../utils/index';\nimport SavvyFile from '../file';\nimport SavvyZipFile from '../zip_file';\nimport { ZipWriter, createZipWriter } from './zip';\n\nconst MSIE: boolean = typeof MSBlobBuilder === 'function';\nexport default class MemoryIO extends IO {\n  // private size: number;\n  private downloadSize: number = 0;\n\n  constructor() {\n    super();\n\n    console.log('memory download init...');\n  }\n  public getFileWriter(file: SavvyFile | SavvyZipFile, successCallback: Function, errorCallback: Function): void {\n    successCallback({\n      fileEntry: null,\n      fileWriter: new MemoryWrite()\n    });\n  }\n  public write(file: SavvyFile | SavvyZipFile, buffer: ArrayBuffer): Promise<undefined> {\n    return new Promise((resolve: Function, reject: Function) => {\n      console.log('memory write');\n      if (file.isZip) {\n        let tmpZipFile: SavvyZipFile = file as SavvyZipFile;\n        let zipWriter: ZipWriter = createZipWriter();\n        let currentFile: SavvyFile = tmpZipFile.currentFile;\n\n        zipWriter.add(currentFile, tmpZipFile, buffer, tmpZipFile.nowChunkIndex === tmpZipFile.chunklist.length).then(() => {\n          resolve();\n        });\n      } else {\n        file.fileWriter.onwriteend = () => {\n          resolve();\n        };\n        file.fileWriter.onerror = (e: Error) => {\n          reject();\n        };\n\n        file.fileWriter.write(new Blob([buffer]));\n      }\n    });\n  }\n  public deleteFile(file: SavvyFile | SavvyZipFile): void {\n    file.fileWriter.clear();\n    file.fileWriter = null;\n  }\n  public download(files: Array<SavvyFile | SavvyZipFile>): void {\n    for (let i: number = 0, l: number = files.length; i < l; i++) {\n      let blob: Blob = files[i].fileWriter.getBlob(files[i].name);\n      let blob_url: string = '';\n      if (MSIE) {\n        navigator.msSaveOrOpenBlob(blob, name);\n      } else {\n        blob_url = window.URL.createObjectURL(blob);\n        let dlLinkNode: HTMLAnchorElement = document.createElement('a');\n        dlLinkNode.download = files[i].name;\n        dlLinkNode.href = blob_url;\n\n        console.log(dlLinkNode);\n        document.body.appendChild(dlLinkNode);\n\n        // this click may triggers beforeunload...\n        dlLinkNode.click();\n      }\n    }\n  }\n}\n\nclass MemoryWrite {\n  private blobList: MSBlobBuilder | Blob[];\n  public onwriteend: Function | null;\n  public onerror: Function | null;\n\n  public position: number = 0;\n  constructor() {\n    if (MSIE) {\n      this.blobList = new MSBlobBuilder();\n    } else {\n      this.blobList = [];\n    }\n\n    this.onwriteend = null;\n    this.onerror = null;\n  }\n\n  public getBlob(name: string): Blob {\n    if (MSIE) {\n      return (this.blobList as MSBlobBuilder).getBlob();\n    }\n    try {\n      return new File(this.blobList as Blob[], name, { type: filemime(name) });\n    } catch (ex) {\n      console.log(ex);\n    }\n    return new Blob((this.blobList as Blob[]) || [], { type: filemime(name) });\n  }\n\n  public write(buffer: Blob) {\n    try {\n      if (MSIE) {\n        (this.blobList as MSBlobBuilder).append(buffer);\n      } else {\n        (this.blobList as Blob[]).push(buffer);\n      }\n\n      this.onwriteend && this.onwriteend();\n    } catch (e) {\n      console.log(e);\n      this.onerror && this.onerror(e);\n    }\n  }\n\n  public clear() {\n    this.blobList = [];\n  }\n}\n","import { TChunk, TStatus } from './interface';\nimport FilesystemIO from './methods/filesystem';\nimport MemoryIO from './methods/memory';\nimport { filetype } from './utils';\n\nexport default class SavvyFile {\n  public id: number;\n  public isZip: boolean = false;\n  public chunklist: TChunk[] = [];\n  public status: TStatus;\n  public filePath: string;\n  public name: string;\n  public fileSize: number;\n  public chunkSize: number;\n\n  public fileWriter: any;\n  public fileEntry: any;\n\n  public remainSize: number;\n  // measure unit is byte per second\n  public speed: number = 0;\n\n  public nowChunkIndex: number = 0;\n  private IO: FilesystemIO | MemoryIO;\n\n  private startTime: number = 0;\n\n  public offset: number = 0;\n  public crc: number = 0;\n\n  public headerPos: number = 0;\n  public bufferAcc: number = 0;\n\n  public fileType: string = 'File';\n\n  private progressHandle: Function;\n\n  public lock: boolean = false;\n  public processer: any = null;\n  public paused: boolean = false;\n\n  constructor(path: string, name: string, fileSize: number, chunkSize: number, IO_instance: FilesystemIO | MemoryIO, progressHandle: Function, buffacc?: number, offset?: number) {\n    this.status = 'initializing';\n    this.filePath = path;\n    this.name = name;\n    this.fileSize = fileSize;\n    this.chunkSize = chunkSize;\n    this.IO = IO_instance;\n\n    this.remainSize = fileSize;\n\n    this.bufferAcc = buffacc || 0;\n    this.offset = offset || 0;\n\n    this.progressHandle = progressHandle;\n    this.fileType = filetype(this.name);\n\n    this.id = new Date().getTime();\n\n    let tmpStart: number = 0,\n      tmpEnd: number = 0;\n    while (tmpEnd < this.fileSize) {\n      tmpEnd = tmpStart + this.chunkSize;\n      tmpEnd = tmpEnd > this.fileSize ? this.fileSize : tmpEnd;\n      this.chunklist.push({\n        filePath: this.filePath,\n        start: tmpStart,\n        end: tmpEnd\n      });\n\n      tmpStart = tmpEnd + 1;\n    }\n  }\n  public init = (): Promise<undefined> => {\n    return new Promise((resolve: Function, reject: Function) => {\n      this.IO.getFileWriter(\n        this,\n        (result: { fileEntry: FileEntry; fileWriter: FileWriter }) => {\n          this.fileWriter = result.fileWriter;\n          this.fileEntry = result.fileEntry;\n\n          console.log(result.fileWriter.position);\n\n          if (this.status !== 'abort') {\n            this.status = 'inited';\n          }\n\n          resolve();\n        },\n        reject\n      );\n    });\n  };\n\n  public getStatus = (): TStatus => {\n    return this.status;\n  };\n\n  public update = (length: number) => {\n    if (this.status === 'inited') {\n      this.status = 'downloading';\n    }\n    let duration: number = new Date().getTime() - this.startTime;\n\n    this.speed = (length / duration) * 1000;\n    this.remainSize -= length;\n\n    this.progressHandle && this.progressHandle(this.id, this.speed, this.remainSize, this.status);\n  };\n\n  public nextChunk(): TChunk {\n    // make sure next chunk is available when status not chunk_empty\n    this.startTime = new Date().getTime();\n    if (!this.chunklist[this.nowChunkIndex + 1]) {\n      this.status = 'chunk_empty';\n    }\n    return this.chunklist[this.nowChunkIndex++];\n  }\n\n  public resumePreChunk(): void {\n    if (this.status === 'chunk_empty') {\n      this.status = 'inited';\n    }\n\n    this.nowChunkIndex -= 1;\n  }\n}\n","import { TChunk, TStatus } from './interface';\nimport FilesystemIO from './methods/filesystem';\nimport MemoryIO from './methods/memory';\nimport SavvyFile from './file';\n\nimport { filetype } from './utils';\nimport SavvyTransfer from '.';\n\nexport default class SavvyZipFile {\n  public id: number;\n  public chunklist: TChunk[] = [];\n  public _status: TStatus = 'initializing';\n\n  public isZip: boolean = true;\n\n  public fileWriter: any;\n  public fileEntry: any;\n\n  public name: string;\n  public fileSize: number = 0;\n  public totalSize: number;\n\n  public files: SavvyFile[];\n  public nowChunkIndex: number = 0;\n  private IO: FilesystemIO | MemoryIO;\n\n  public offset: number = 0;\n  public dirData: Uint8Array[] = [];\n\n  public remainSize: number;\n  // measure unit is byte per second\n  public speed: number = 0;\n\n  private startTime: number = 0;\n  private progressHandle: Function;\n  private statusHandle: Function;\n\n  public fileType: string = 'File';\n\n  public resumed: boolean = false;\n\n  public lock: boolean = false;\n  public processer: any = null;\n  public paused: boolean = false;\n\n  constructor(\n    files: SavvyFile[],\n    name: string,\n    IO_instance: FilesystemIO | MemoryIO,\n    progressHandle: Function,\n    statusHandle: Function,\n    chunkIndex: number = 0,\n    id?: number,\n    offset?: number,\n    resumed?: boolean\n  ) {\n    this.IO = IO_instance;\n    this.name = name;\n    this.files = files;\n\n    this.fileType = filetype(this.name);\n\n    this.id = id || new Date().getTime();\n    this.offset = offset || 0;\n\n    this.totalSize = files.reduce((prev: number, cur: SavvyFile) => prev + cur.fileSize, 0);\n    this.progressHandle = progressHandle;\n    this.statusHandle = statusHandle;\n\n    this.nowChunkIndex = chunkIndex;\n\n    for (let i: number = 0, l: number = files.length; i < l; i++) {\n      this.fileSize += files[i].fileSize + 30 + 9 + 2 * files[i].name.length /* header */ + 46 + files[i].name.length /* dirRecord */;\n    }\n\n    // extra bytes for each ZipCentralDirectory\n    this.fileSize += files.length * 28;\n    // extra bytes for each dataDescriptor\n    this.fileSize += files.length * 24;\n    // final bytes\n    this.fileSize += 98;\n\n    this.chunklist = files.reduce((pre: TChunk[], file: SavvyFile) => pre.concat(file.chunklist), []);\n\n    this.resumed = resumed || false;\n\n    if (chunkIndex === this.chunklist.length) {\n      this.remainSize = 0;\n    } else if (chunkIndex !== 0) {\n      this.remainSize =\n        this.totalSize -\n        this.chunklist.reduce((acc: number, cur: TChunk, index: number) => {\n          if (index < chunkIndex) {\n            acc += cur.end - (cur.start === 0 ? 0 : cur.start - 1);\n          } else {\n            acc += 0;\n          }\n\n          return acc;\n        }, 0);\n    } else {\n      this.remainSize = this.totalSize;\n    }\n  }\n  public init = (): Promise<undefined> => {\n    return new Promise((resolve: Function, reject: Function) => {\n      this.IO.getFileWriter(\n        this,\n        (result: { fileEntry: FileEntry; fileWriter: FileWriter }) => {\n          this.fileWriter = result.fileWriter;\n          this.fileEntry = result.fileEntry;\n          console.log('fileWriter position' + result.fileWriter.position);\n          if (this.status !== 'abort') {\n            this.status = 'inited';\n          }\n          resolve();\n        },\n        reject\n      );\n    });\n  };\n\n  public abortAllResumeData() {\n    this.nowChunkIndex = 0;\n    this.remainSize = this.totalSize;\n    this.offset = 0;\n    this.files.forEach((file: SavvyFile) => {\n      file.offset = file.bufferAcc = 0;\n    });\n  }\n\n  public get currentFile(): SavvyFile {\n    let tmpNowChunkIndex = this.nowChunkIndex - 1;\n    let numChunks: number = 0;\n    let tmpNowFile: SavvyFile = this.files[0];\n\n    for (let i = 0, l = this.files.length; i < l; i++) {\n      numChunks += this.files[i].chunklist.length;\n      if (tmpNowChunkIndex < numChunks) {\n        tmpNowFile = this.files[i];\n        break;\n      }\n    }\n    return tmpNowFile;\n  }\n  public get status(): TStatus {\n    return this._status;\n  }\n  public set status(new_status: TStatus) {\n    this._status = new_status;\n    this.statusHandle && this.statusHandle(this.id, new_status);\n  }\n  /**\n   * use @function getStatus() to get file's current status instead of accessing it directly\n   * so this is done to avoid errors during ts static checking\n   * @ref https://github.com/Microsoft/TypeScript/issues/29155\n   */\n  public getStatus = (): TStatus => {\n    return this._status;\n  };\n  public update = (length: number) => {\n    if (this.status === 'inited') {\n      this.status = 'downloading';\n    }\n\n    let tmpEndTime: number = new Date().getTime();\n    let duration: number = tmpEndTime - this.startTime;\n\n    // console.log('chunk ' + this.chunklist[this.nowChunkIndex - 1].start + '-' + this.chunklist[this.nowChunkIndex - 1].end + ' request complete at ' + tmpEndTime);\n    this.speed = (length / duration) * 1000;\n    this.remainSize -= length;\n\n    this.progressHandle && this.progressHandle(this.id, this.speed, this.remainSize, this.status);\n  };\n  public nextChunk(): TChunk {\n    this.startTime = new Date().getTime();\n    // make sure next chunk is available when status not chunk_empty\n    if (!this.chunklist[this.nowChunkIndex + 1]) {\n      this.status = 'chunk_empty';\n    }\n\n    // console.log('request chunk: ' + this.chunklist[this.nowChunkIndex].start + '-' + this.chunklist[this.nowChunkIndex].end + ' at ' + this.startTime);\n    return this.chunklist[this.nowChunkIndex++];\n  }\n\n  public resumePreChunk(): void {\n    if (this.status === 'chunk_empty') {\n      this.status = 'downloading';\n    }\n\n    this.nowChunkIndex -= 1;\n  }\n}\n","import FilesystemIO from './methods/filesystem';\nimport MemoryIO from './methods/memory';\nimport SavvyFile from './file';\nimport { TChunk, TResumeData, TResumeFile } from './interface';\nimport SavvyZipFile from './zip_file';\n\nconst IS64BIT: boolean = /\\b(WOW64|x86_64|Win64|intel mac os x 10.(9|\\d{2,}))/i.test(navigator.userAgent);\nconst DEV: boolean = false;\nclass SavvyTransfer {\n  private SIZE_LIMIT: number = 1024 * 1024 * 1024 * (1 + (IS64BIT ? 1 : 0));\n  private CHUNK_SIZE: number = 1024 * 1024 * 10;\n  private HTTP_NUM: number = 5;\n\n  public totalSize: number = 0;\n  public IO: FilesystemIO | MemoryIO;\n  public IO_IS_FS: boolean = false;\n  public progressHandle: Function;\n  public statusUpdateHandle: Function;\n  public running: boolean = false;\n\n  public files: Array<SavvyFile | SavvyZipFile> = [];\n  public schedulingFiles: Array<SavvyFile | SavvyZipFile> = [];\n  public processers: Processer[] = [];\n\n  constructor(onProgress: Function, onStatusUpdate: Function) {\n    if ((window as any).requestFileSystem || (window as any).webkitRequestFileSystem) {\n      this.IO = new FilesystemIO();\n      this.IO_IS_FS = true;\n      // fs has a largeeeee size limit, up to 200GB\n      this.SIZE_LIMIT = 1024 * 1024 * 1024 * 200;\n      // this.SIZE_LIMIT = 1024 * 1024 * 250;\n    } else {\n      this.IO = new MemoryIO();\n    }\n    this.progressHandle = onProgress;\n    this.statusUpdateHandle = onStatusUpdate;\n    if (DEV && this.IO_IS_FS) {\n      (this.IO as FilesystemIO).removeAll();\n    }\n\n    this.processers = new Array(this.HTTP_NUM).fill('').map((_: number) => new Processer());\n  }\n\n  /**\n   * resumeData@type TResumeData\n   */\n  public retrieveFilesFromLocalStorage(): Array<SavvyFile | SavvyZipFile> {\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\n    if (rawResumeData) {\n      let resumeData: TResumeData[];\n      try {\n        resumeData = JSON.parse(rawResumeData);\n\n        this.files.push(\n          ...resumeData.map((data: TResumeData) => {\n            if (data.type === 'zip') {\n              // files: SavvyFile[], name: string, IO_instance: FilesystemIO | MemoryIO, progressHandle: Function, chunkIndex: number = 0, id?: number, offset?: number, resumed?: boolean\n              return new SavvyZipFile(\n                data.files.map(\n                  (_file: TResumeFile) =>\n                    new SavvyFile(_file.path, _file.name, _file.size, this.CHUNK_SIZE, this.IO, this.progressHandle, (this.IO_IS_FS && _file.bufferAcc) || 0, (this.IO_IS_FS && _file.offset) || 0)\n                ),\n                data.name,\n                this.IO,\n                this.progressHandle,\n                this.statusUpdateHandle,\n                (this.IO_IS_FS && data.chunkIndex) || 0,\n                data.id,\n                (this.IO_IS_FS && data.offset) || 0,\n                true\n              );\n            } else {\n              return new SavvyFile(data.path!, data.name, data.size!, this.CHUNK_SIZE, this.IO, this.progressHandle);\n            }\n          })\n        );\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    if (this.IO_IS_FS) {\n      (this.IO as FilesystemIO).freeSpace(this.files);\n    }\n    return this.files;\n  }\n  /**\n   * resumeData@type TResumeData\n   * @param {SavvyZipFile | SavvyFile} fileForUpdate\n   */\n  public storeFileForResume(fileForUpdate: SavvyZipFile | SavvyFile): void {\n    // temporarily support {SavvyZipFile} only.\n    fileForUpdate = fileForUpdate as SavvyZipFile;\n\n    if (fileForUpdate.status === 'complete') {\n      this.deleteFileFromStore(fileForUpdate);\n\n      return;\n    }\n\n    let resumeDataForFile: TResumeData = {\n      id: fileForUpdate.id,\n      name: fileForUpdate.name,\n      type: 'zip',\n      chunkIndex: fileForUpdate.nowChunkIndex,\n      tag: fileForUpdate.nowChunkIndex === fileForUpdate.chunklist.length ? 1 : 0,\n      offset: fileForUpdate.offset,\n      dirData: fileForUpdate.dirData,\n      files: fileForUpdate.files.map((_file: SavvyFile) => ({\n        name: _file.name,\n        path: _file.filePath,\n        size: _file.fileSize,\n\n        bufferAcc: _file.bufferAcc,\n        offset: _file.offset\n      }))\n    };\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\n    let newResumeData: TResumeData[] = [];\n    if (rawResumeData) {\n      let tmpResumeData: TResumeData[];\n      try {\n        tmpResumeData = JSON.parse(rawResumeData);\n        let index: number = tmpResumeData.findIndex((data: TResumeData) => data.id === resumeDataForFile.id);\n        if (index !== -1) {\n          tmpResumeData.splice(index, 1, resumeDataForFile);\n          newResumeData.push(...tmpResumeData);\n        } else {\n          newResumeData.push(...tmpResumeData, resumeDataForFile);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      newResumeData.push(resumeDataForFile);\n    }\n\n    window.localStorage.setItem('savvy_transfers', JSON.stringify(newResumeData));\n  }\n  /**\n   * resumeData@type TResumeData\n   * @param {SavvyZipFile | SavvyFile} fileNeedDelete\n   */\n  public deleteFileFromStore(fileNeedDelete: SavvyZipFile | SavvyFile): void {\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\n    if (rawResumeData) {\n      let tmpResumeData: TResumeData[];\n      try {\n        tmpResumeData = JSON.parse(rawResumeData);\n        let index: number = tmpResumeData.findIndex((data: TResumeData) => data.id === fileNeedDelete.id);\n        if (index !== -1) {\n          tmpResumeData.splice(index, 1);\n        }\n\n        window.localStorage.setItem('savvy_transfers', JSON.stringify(tmpResumeData));\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n  // temporary just on type - zip\n  public async addFiles(files: { path: string; name: string }[], asZip: boolean = false): Promise<SavvyZipFile | Array<SavvyFile>> {\n    let tmpFiles: SavvyFile[] = [];\n    for (let i: number = 0, l: number = files.length; i < l; i++) {\n      try {\n        let tmpFile: SavvyFile | undefined | string = await this._addFile(files[i].path, files[i].name, asZip);\n        if (tmpFile && typeof tmpFile !== 'string') {\n          tmpFiles.push(tmpFile);\n        }\n      } catch (e) {\n        throw e;\n      }\n    }\n\n    let tmpZipFile: SavvyZipFile;\n    if (asZip) {\n      // create a zip file\n      tmpZipFile = new SavvyZipFile(tmpFiles, `Archive-${generateId(4)}.zip`, this.IO, this.progressHandle, this.statusUpdateHandle);\n      this.files.push(tmpZipFile);\n\n      // store in locastorage for resume\n      this.storeFileForResume(tmpZipFile);\n\n      return tmpZipFile;\n    } else {\n      return tmpFiles;\n    }\n  }\n  public async addFile(path: string, name: string): Promise<Array<SavvyFile | SavvyZipFile>> {\n    await this._addFile(path, name);\n    return this.files;\n  }\n  private async _addFile(path: string, name: string, asZip: boolean = false): Promise<SavvyFile | undefined> {\n    if (!path) {\n      console.log('file path invalid.');\n      throw new Error('Invalid file path');\n      // return;\n    }\n\n    // get file size\n    let response: Response = await fetch(path, { method: 'GET', headers: { Range: 'bytes=0-1' } });\n    if (!response.headers.get('content-range')) {\n      console.log('can not get file size, check file path or contact service provider.');\n      // let message = 'can not get file size, check file path or contact service provider.';\n      throw new Error('Can not get file size, check file path or contact service provider.');\n      // return;\n    }\n    // calculate whether the size limit is exceeded\n    let fileSize: number = parseInt(response.headers.get('content-range')!.split('/')[1]);\n    if (fileSize > this.SIZE_LIMIT || fileSize + this.totalSize > this.SIZE_LIMIT) {\n      console.log('The download size exceeds the maximum size supported by the browser. You can use savvy-cli to proceed with the download.');\n      // let message = 'The download size exceeds the maximum size supported by the browser. You can use savvy-cli to proceed with the download.';\n      throw new Error('exceed');\n      // return;\n    }\n    // create new file\n    let tmpFile: SavvyFile = new SavvyFile(path, name, fileSize, this.CHUNK_SIZE, this.IO, this.progressHandle);\n    // ensure each file get it's writer from IO\n    // `asZip` flag indicate this SavvyFile where belong another SavvyFile which will actually being download as a zip file\n    //  in other word, this savvyfile does not need a writer(init);\n    if (!asZip) {\n      this.files.push(tmpFile);\n    }\n\n    this.totalSize += tmpFile.fileSize;\n    await new Promise((resolve, reject) => {\n      setTimeout(resolve, 1);\n    });\n    return tmpFile;\n  }\n  /**\n   * @param {Array<SavvyFile | SavvyZipFile>[]} files\n   * pause files' processers which id within ids\n   */\n  public pause(files: Array<SavvyFile | SavvyZipFile>): boolean {\n    if (this.running) {\n      files.map((file: SavvyFile | SavvyZipFile) => {\n        // some file in ids may had being resumed.\n        // we just need care about those files which have freezed processors.\n        if (file.processer && !file.processer.freeze) {\n          // tmpFile.processer.freeze = true;\n          file.paused = true;\n        } else if (!file.processer) {\n          file.paused = true;\n\n          // 有两种情况: 1. 当前file在待处理队列中, 但还没有分配处理单元  2. 不在队列中\n\n          file.status = 'paused';\n        }\n      });\n      return true;\n    }\n    return false;\n  }\n  /**\n   * @param {Array<SavvyFile | SavvyZipFile>[]} files\n   * resume files' processers which id within ids.\n   */\n  public resume(files: Array<SavvyFile | SavvyZipFile>) {\n    files.map((file: SavvyFile | SavvyZipFile) => {\n      file.paused = false;\n      this.schedule([file.id]);\n    });\n  }\n\n  /**\n   * @param {SavvyFile | SavvyZipFile} file\n   * @returns SavvyFile | SavvyZipFile | undefined\n   * remove file\n   * 1. pause its processor if there has one.\n   * 2. release the processor resource.\n   * 3. delete its record in LocalStorage.\n   */\n  public removeFile(file: SavvyFile | SavvyZipFile): SavvyFile | SavvyZipFile | undefined {\n    if (file && file.status !== 'abort') {\n      file.paused = true;\n      file.status = 'abort';\n      this.totalSize -= file.fileSize;\n      this.IO.deleteFile(file);\n\n      this.deleteFileFromStore(file);\n    }\n    return file;\n  }\n  /**\n   * @param {number[]?} ids\n   * get files which id within ids, deduplication and then push into <schedulingFiles>\n   */\n  public schedule = (ids?: Array<number>): void => {\n    // fill into schedulingFiles\n    let tmpIds: Array<number> = ids || this.files.map((file: SavvyFile | SavvyZipFile) => file.id);\n    let nonRepeatIds: Array<number> = Array.from(new Set(tmpIds));\n\n    for (let i = 0, l = nonRepeatIds.length; i < l; i++) {\n      let tmpSavvyFile: SavvyFile | SavvyZipFile | undefined = this.files.find((_file: SavvyFile | SavvyZipFile) => _file.id === nonRepeatIds[i]);\n\n      if (tmpSavvyFile && this.schedulingFiles.filter((file: SavvyFile | SavvyZipFile) => file.id === nonRepeatIds[i]).length <= 0) {\n        tmpSavvyFile.status = 'queue';\n        this.schedulingFiles.push(tmpSavvyFile);\n      }\n    }\n\n    this.distributeToProcessers();\n  };\n\n  /**\n   * query the current idle state of all processors\n   * distribute a file which is **not complete** and **not abort** and **not locked**\n   * to a processor in idle state.\n   */\n  public distributeToProcessers() {\n    if (this.schedulingFiles.length > 0) {\n      this.running = true;\n      for (let i: number = 0, l = this.processers.length; i < l; i++) {\n        if (this.processers[i].idle) {\n          let currentFile: SavvyFile | SavvyZipFile | undefined = this.schedulingFiles.find(\n            (file: SavvyFile | SavvyZipFile) => (file && file!.status !== 'abort' && file!.status !== 'complete' && !file.lock && !file.paused) || false\n          );\n\n          if (currentFile) {\n            this.processers[i].run(currentFile, this);\n          }\n        }\n      }\n    } else {\n      this.running = false;\n      console.log('all files are in complete state, transfer stop.');\n    }\n  }\n}\n\nclass Processer {\n  public idle: boolean = true;\n  public file: SavvyFile | SavvyZipFile | null = null;\n  /**\n   * use @function getStatus() to get file's current status instead of accessing it directly\n   * so this is done to avoid errors during ts static checking\n   * @ref https://github.com/Microsoft/TypeScript/issues/29155\n   */\n  public run(file: SavvyFile | SavvyZipFile, scheduler: SavvyTransfer) {\n    file.processer = this;\n    this.file = file;\n    this.idle = false;\n\n    if (!file.lock) {\n      file.lock = true;\n    }\n\n    if (!file.paused) {\n      file.status = 'downloading';\n      this.process(file, scheduler);\n    } else {\n      file.lock = false;\n      file.processer = null;\n      this.idle = true;\n      if (file.status !== 'abort') {\n        file.status = 'paused';\n      }\n    }\n  }\n  public process = async (file: SavvyFile | SavvyZipFile, scheduler: SavvyTransfer): Promise<undefined> => {\n    if (!file.paused) {\n      if (file.getStatus() === 'abort') {\n        // delete this file.\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_file: SavvyFile | SavvyZipFile) => _file.id === file.id), 1);\n\n        this.idle = true;\n        this.file = null;\n        file.lock = false;\n        file.processer = null;\n\n        scheduler.distributeToProcessers();\n        return;\n      }\n      // no more chunk need be download, should\n      if (file.nowChunkIndex >= file.chunklist.length) {\n        scheduler.IO.download([file]);\n\n        file.status = 'complete';\n\n        scheduler.storeFileForResume(file);\n        scheduler.IO.deleteFile(file);\n        scheduler.totalSize -= file.fileSize;\n        // delete this file.\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_file: SavvyFile | SavvyZipFile) => _file.id === file.id), 1);\n\n        this.idle = true;\n        this.file = null;\n        file.lock = false;\n        file.processer = null;\n\n        scheduler.distributeToProcessers();\n        return;\n      }\n\n      // need init to get a filewriter\n      if (!file.fileWriter) {\n        await file.init();\n        this.run(file, scheduler);\n        return;\n      }\n\n      // file.status should be inited\n      let nextChunk: TChunk = file.nextChunk();\n      let response: Response = await fetch(nextChunk.filePath, { method: 'GET', headers: { Range: `bytes=${nextChunk.start}-${nextChunk.end}` } });\n\n      if (file.paused) {\n        // throw this chunk\n        file.resumePreChunk();\n\n        file.lock = false;\n        file.processer = null;\n        this.idle = true;\n        if (file.status !== 'abort') {\n          file.status = 'paused';\n        }\n        return;\n      }\n      let buffer: ArrayBuffer = await response.arrayBuffer();\n\n      if (file.paused) {\n        // throw this chunk\n        file.resumePreChunk();\n        file.paused = true;\n        file.lock = false;\n        file.processer = null;\n        this.idle = true;\n        if (file.status !== 'abort') {\n          file.status = 'paused';\n        }\n        return;\n      }\n\n      await scheduler.IO.write(file, buffer);\n      if (file.getStatus() === 'abort') {\n        // delete this file.\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_file: SavvyFile | SavvyZipFile) => _file.id === file.id), 1);\n\n        this.idle = true;\n        this.file = null;\n        file.lock = false;\n        file.processer = null;\n\n        scheduler.distributeToProcessers();\n        return;\n      }\n      file.update(nextChunk.end - (nextChunk.start === 0 ? 0 : nextChunk.start - 1));\n\n      // console.log(file.name + ' write ' + (file.nowChunkIndex - 1) + ' chunk, scope: ' + nextChunk.start + '-' + nextChunk.end);\n      scheduler.storeFileForResume(file);\n\n      this.run(file, scheduler);\n      return;\n    } else {\n      if (file.status !== 'abort') {\n        file.status = 'paused';\n      }\n      file.processer = null;\n      file.lock = false;\n      this.idle = true;\n    }\n  };\n}\n\nfunction dec2hex(dec: number) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction generateId(len: number) {\n  var arr = new Uint8Array((len || 40) / 2);\n  window.crypto.getRandomValues(arr);\n  return Array.from(arr, dec2hex).join('');\n}\n\nexport default SavvyTransfer;\n"],"names":["undefined","require$$0","_typeof","IO","extmime","aac","abw","ace","adp","aif","aifc","aiff","apk","asf","asx","atom","au","avi","bat","bmp","btif","bz","bz2","caf","cgm","cmx","com","conf","css","csv","dbk","deb","def","djv","djvu","dll","dmg","doc","docm","docx","dot","dotm","dotx","dra","dtd","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","emf","emz","eol","epub","exe","f4v","fbs","fh","fh4","fh5","fh7","fhc","flac","fli","flv","fpx","fst","fvt","g3","gif","h261","h263","h264","heif","heic","htm","html","ico","ief","iso","jpe","jpeg","jpg","jpgm","jpgv","jpm","json","jsonml","kar","ktx","list","log","lvp","m13","m14","m1v","m21","m2a","m2v","m3a","m3u","m3u8","m4a","m4u","m4v","mdi","mid","midi","mj2","mjp2","mk3d","mka","mks","mkv","mmr","mng","mov","movie","mp2","mp21","mp2a","mp3","mp4","mp4a","mp4s","mp4v","mpe","mpeg","mpg","mpg4","mpga","mpkg","msi","mvb","mxf","mxml","mxu","npx","odb","odc","odf","odft","odg","odi","odm","odp","ods","odt","oga","ogg","ogv","ogx","otc","otg","oth","oti","otp","ots","ott","oxt","pbm","pct","pcx","pdf","pgm","pic","plb","png","pnm","pot","potx","ppm","pps","ppsx","ppt","pptx","psb","psd","pvb","pya","pyv","qt","ra","ram","ras","rgb","rip","rlc","rmi","rmp","s3m","sgi","sgm","sgml","sid","sil","sldx","smv","snd","spx","srt","sub","svg","svgz","swf","tcap","text","tga","tif","tiff","torrent","tsv","ttl","txt","udeb","uva","uvg","uvh","uvi","uvm","uvp","uvs","uvu","uvv","uvva","uvvg","uvvh","uvvi","uvvm","uvvp","uvvs","uvvu","uvvv","viv","vob","wav","wax","wbmp","wdp","weba","webm","webp","wm","wma","wmf","wmv","wmx","wvx","xap","xbm","xht","xhtml","xhvml","xif","xlsx","xltx","xm","xml","xop","xpl","xpm","xsl","xslt","xspf","xvm","xvml","xwd","zip","ext","filemime","name","fext","fileext","filetype","length","replace","toUpperCase","uppercase","iknowwhatimdoing","String","substr","lastIndexOf","toLowerCase","crc32table","crc32","data","crc","len","x","y","off","i","VAL32","_HEX","toString","hasBuffer","Buffer","Int64","a1","a2","asIs","Uint8Array","buffer","offset","Object","prototype","call","setValue","apply","arguments","MAX_INT","Math","pow","MIN_INT","constructor","_2scomp","b","o","carry","v","hi","lo","negate","abs","RangeError","parseInt","Error","toNumber","allowImprecise","m","Infinity","valueOf","radix","toOctetString","sep","out","Array","join","toBuffer","rawBuffer","copy","targetBuffer","targetOffset","compare","other","equals","inspect","appendABViewSupported","Blob","DataView","ArrayBuffer","size","e","console","ZipWriter","writer","fileNames","files","dataLength","currentFile","zipFile","_buffer","isLast","Crc32","byteLength","ziper","ZIPClass","fileSize","fileName","unescape","encodeURIComponent","bufferAcc","headerPos","ebuf","ezBuffer","i16","zipUtf8ExtraId","i8","i32","appendBytes","header","ZipHeader","getArray","d","set","centralDir","ZipCentralDirectory","centralDirBuffer","dataDescriptor","end","ZipSuffix","dirData","map","file","dirRecord","tmpSize","tmpOffset","tmpBuf","Promise","resolve","reject","tmpWrite","fileWriter","onwriteend","onerror","write","BlobReader","_file","reader","FileReader","onload","result","readAsArrayBuffer","createZipWriter","fileHeaderLen","noCompression","defaultFlags","i32max","i16max","zip64ExtraId","directory64LocLen","directory64EndLen","fileHeaderSignature","directory64LocSignature","directory64EndSignature","directoryEndSignature","dataDescriptorSignature","directoryHeaderSignature","dataDescriptorLen","dataDescriptor64Len","directoryHeaderLen","totalSize","maxZipSize","isZip64","zipVersion","localStorage","zip64","extra","readerVersion","Flags","Method","date","unsize","buf","DosDateTime","getBytes","filename","directory","headerpos","creatorVersion","externalAttr","i64","concat","centralDirectoryBuf","dataDescriptorBuf","pos","dirDatalength","xbuf","resize","obj","debug","error","bytes","val","array","push","isArray","charCodeAt","number","bigendian","nbuffer","setInt32","setInt16","setInt8","newsize","zobj","resizeIfNeeded","sec","Date","dosTime","dosDate","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","customWindow","window","TEMPORARY","FilesystemIO","freeSpaceRequest","entrtiesReaded","allEntries","allResumeFiles","saveLink","objectURL","link","dlLinkNode","document","createElement","download","href","fileEntry","toURL","click","saveFile","savvyFile","File","type","URL","createObjectURL","ex","requestFileSystem","webkitRequestFileSystem","fs","root","getDirectory","create","directoryEntry","dirReader","createReader","readEntries","entries","freeSpace","forEach","entry","id","remove","successCallback","errorCallback","getFile","getMetadata","metadata","createWriter","fw","seek","truncate","abortAllResumeData","tmpFile","find","err","isZip","tmpZipFile","zipWriter","add","nowChunkIndex","chunklist","then","isFile","delTime","setTimeout","l","MSIE","MSBlobBuilder","MemoryIO","downloadSize","MemoryWrite","clear","blob","getBlob","blob_url","navigator","msSaveOrOpenBlob","body","appendChild","blobList","position","append","SavvyFile","path","chunkSize","IO_instance","progressHandle","buffacc","status","filePath","remainSize","speed","startTime","fileType","lock","processer","paused","init","getFileWriter","getStatus","update","duration","getTime","tmpStart","tmpEnd","start","SavvyZipFile","statusHandle","chunkIndex","resumed","_status","tmpEndTime","reduce","prev","cur","pre","acc","index","tmpNowChunkIndex","numChunks","tmpNowFile","new_status","IS64BIT","test","userAgent","SavvyTransfer","onProgress","onStatusUpdate","SIZE_LIMIT","CHUNK_SIZE","HTTP_NUM","IO_IS_FS","statusUpdateHandle","running","schedulingFiles","processers","schedule","ids","tmpIds","nonRepeatIds","from","Set","tmpSavvyFile","filter","distributeToProcessers","fill","_","Processer","rawResumeData","getItem","resumeData","JSON","parse","fileForUpdate","deleteFileFromStore","resumeDataForFile","tag","newResumeData","tmpResumeData","findIndex","splice","setItem","stringify","fileNeedDelete","asZip","tmpFiles","_addFile","generateId","storeFileForResume","fetch","method","headers","Range","response","get","split","freeze","deleteFile","idle","run","process","scheduler","nextChunk","resumePreChunk","arrayBuffer","dec2hex","dec","arr","crypto","getRandomValues"],"mappings":"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"}