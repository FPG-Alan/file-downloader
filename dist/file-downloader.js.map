{"version":3,"file":"file-downloader.js","sources":["../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/regenerator/index.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/inherits.js","../src/methods/IO.ts","../src/utils/index.ts","../src/utils/crc32.ts","../src/utils/Int64.ts","../src/methods/zip.ts","../src/methods/filesystem.ts","../src/methods/memory.ts","../src/file.ts","../src/transfer.ts","../src/processer.ts","../src/index.ts"],"sourcesContent":["function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(t) {\n  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _getPrototypeOf(t);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(t, e) {\n  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _setPrototypeOf(t, e);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export default class SavvyIO {}\r\n","const extmime: {\r\n  [key: string]: string;\r\n} = {\r\n  '3ds': 'image/x-3ds',\r\n  '3g2': 'video/3gpp2',\r\n  '3gp': 'video/3gpp',\r\n  '7z': 'application/x-7z-compressed',\r\n  aac: 'audio/x-aac',\r\n  abw: 'application/x-abiword',\r\n  ace: 'application/x-ace-compressed',\r\n  adp: 'audio/adpcm',\r\n  aif: 'audio/x-aiff',\r\n  aifc: 'audio/x-aiff',\r\n  aiff: 'audio/x-aiff',\r\n  apk: 'application/vnd.android.package-archive',\r\n  asf: 'video/x-ms-asf',\r\n  asx: 'video/x-ms-asf',\r\n  atom: 'application/atom+xml',\r\n  au: 'audio/basic',\r\n  avi: 'video/x-msvideo',\r\n  bat: 'application/x-msdownload',\r\n  bmp: 'image/bmp',\r\n  btif: 'image/prs.btif',\r\n  bz: 'application/x-bzip',\r\n  bz2: 'application/x-bzip2',\r\n  caf: 'audio/x-caf',\r\n  cgm: 'image/cgm',\r\n  cmx: 'image/x-cmx',\r\n  com: 'application/x-msdownload',\r\n  conf: 'text/plain',\r\n  css: 'text/css',\r\n  csv: 'text/csv',\r\n  dbk: 'application/docbook+xml',\r\n  deb: 'application/x-debian-package',\r\n  def: 'text/plain',\r\n  djv: 'image/vnd.djvu',\r\n  djvu: 'image/vnd.djvu',\r\n  dll: 'application/x-msdownload',\r\n  dmg: 'application/x-apple-diskimage',\r\n  doc: 'application/msword',\r\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\r\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n  dot: 'application/msword',\r\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\r\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n  dra: 'audio/vnd.dra',\r\n  dtd: 'application/xml-dtd',\r\n  dts: 'audio/vnd.dts',\r\n  dtshd: 'audio/vnd.dts.hd',\r\n  dvb: 'video/vnd.dvb.file',\r\n  dwg: 'image/vnd.dwg',\r\n  dxf: 'image/vnd.dxf',\r\n  ecelp4800: 'audio/vnd.nuera.ecelp4800',\r\n  ecelp7470: 'audio/vnd.nuera.ecelp7470',\r\n  ecelp9600: 'audio/vnd.nuera.ecelp9600',\r\n  emf: 'application/x-msmetafile',\r\n  emz: 'application/x-msmetafile',\r\n  eol: 'audio/vnd.digital-winds',\r\n  epub: 'application/epub+zip',\r\n  exe: 'application/x-msdownload',\r\n  f4v: 'video/x-f4v',\r\n  fbs: 'image/vnd.fastbidsheet',\r\n  fh: 'image/x-freehand',\r\n  fh4: 'image/x-freehand',\r\n  fh5: 'image/x-freehand',\r\n  fh7: 'image/x-freehand',\r\n  fhc: 'image/x-freehand',\r\n  flac: 'audio/x-flac',\r\n  fli: 'video/x-fli',\r\n  flv: 'video/x-flv',\r\n  fpx: 'image/vnd.fpx',\r\n  fst: 'image/vnd.fst',\r\n  fvt: 'video/vnd.fvt',\r\n  g3: 'image/g3fax',\r\n  gif: 'image/gif',\r\n  h261: 'video/h261',\r\n  h263: 'video/h263',\r\n  h264: 'video/h264',\r\n  heif: 'image/heif',\r\n  heic: 'image/heic',\r\n  htm: 'text/html',\r\n  html: 'text/html',\r\n  ico: 'image/x-icon',\r\n  ief: 'image/ief',\r\n  iso: 'application/x-iso9660-image',\r\n  jpe: 'image/jpeg',\r\n  jpeg: 'image/jpeg',\r\n  jpg: 'image/jpeg',\r\n  jpgm: 'video/jpm',\r\n  jpgv: 'video/jpeg',\r\n  jpm: 'video/jpm',\r\n  json: 'application/json',\r\n  jsonml: 'application/jsonml+json',\r\n  kar: 'audio/midi',\r\n  ktx: 'image/ktx',\r\n  list: 'text/plain',\r\n  log: 'text/plain',\r\n  lvp: 'audio/vnd.lucent.voice',\r\n  m13: 'application/x-msmediaview',\r\n  m14: 'application/x-msmediaview',\r\n  m1v: 'video/mpeg',\r\n  m21: 'application/mp21',\r\n  m2a: 'audio/mpeg',\r\n  m2v: 'video/mpeg',\r\n  m3a: 'audio/mpeg',\r\n  m3u: 'audio/x-mpegurl',\r\n  m3u8: 'application/vnd.apple.mpegurl',\r\n  m4a: 'audio/mp4',\r\n  m4u: 'video/vnd.mpegurl',\r\n  m4v: 'video/x-m4v',\r\n  mdi: 'image/vnd.ms-modi',\r\n  mid: 'audio/midi',\r\n  midi: 'audio/midi',\r\n  mj2: 'video/mj2',\r\n  mjp2: 'video/mj2',\r\n  mk3d: 'video/x-matroska',\r\n  mka: 'audio/x-matroska',\r\n  mks: 'video/x-matroska',\r\n  mkv: 'video/x-matroska',\r\n  mmr: 'image/vnd.fujixerox.edmics-mmr',\r\n  mng: 'video/x-mng',\r\n  mov: 'video/quicktime',\r\n  movie: 'video/x-sgi-movie',\r\n  mp2: 'audio/mpeg',\r\n  mp21: 'application/mp21',\r\n  mp2a: 'audio/mpeg',\r\n  mp3: 'audio/mpeg',\r\n  mp4: 'video/mp4',\r\n  mp4a: 'audio/mp4',\r\n  mp4s: 'application/mp4',\r\n  mp4v: 'video/mp4',\r\n  mpe: 'video/mpeg',\r\n  mpeg: 'video/mpeg',\r\n  mpg: 'video/mpeg',\r\n  mpg4: 'video/mp4',\r\n  mpga: 'audio/mpeg',\r\n  mpkg: 'application/vnd.apple.installer+xml',\r\n  msi: 'application/x-msdownload',\r\n  mvb: 'application/x-msmediaview',\r\n  mxf: 'application/mxf',\r\n  mxml: 'application/xv+xml',\r\n  mxu: 'video/vnd.mpegurl',\r\n  npx: 'image/vnd.net-fpx',\r\n  odb: 'application/vnd.oasis.opendocument.database',\r\n  odc: 'application/vnd.oasis.opendocument.chart',\r\n  odf: 'application/vnd.oasis.opendocument.formula',\r\n  odft: 'application/vnd.oasis.opendocument.formula-template',\r\n  odg: 'application/vnd.oasis.opendocument.graphics',\r\n  odi: 'application/vnd.oasis.opendocument.image',\r\n  odm: 'application/vnd.oasis.opendocument.text-master',\r\n  odp: 'application/vnd.oasis.opendocument.presentation',\r\n  ods: 'application/vnd.oasis.opendocument.spreadsheet',\r\n  odt: 'application/vnd.oasis.opendocument.text',\r\n  oga: 'audio/ogg',\r\n  ogg: 'audio/ogg',\r\n  ogv: 'video/ogg',\r\n  ogx: 'application/ogg',\r\n  otc: 'application/vnd.oasis.opendocument.chart-template',\r\n  otg: 'application/vnd.oasis.opendocument.graphics-template',\r\n  oth: 'application/vnd.oasis.opendocument.text-web',\r\n  oti: 'application/vnd.oasis.opendocument.image-template',\r\n  otp: 'application/vnd.oasis.opendocument.presentation-template',\r\n  ots: 'application/vnd.oasis.opendocument.spreadsheet-template',\r\n  ott: 'application/vnd.oasis.opendocument.text-template',\r\n  oxt: 'application/vnd.openofficeorg.extension',\r\n  pbm: 'image/x-portable-bitmap',\r\n  pct: 'image/x-pict',\r\n  pcx: 'image/x-pcx',\r\n  pdf: 'application/pdf',\r\n  pgm: 'image/x-portable-graymap',\r\n  pic: 'image/x-pict',\r\n  plb: 'application/vnd.3gpp.pic-bw-large',\r\n  png: 'image/png',\r\n  pnm: 'image/x-portable-anymap',\r\n  pot: 'application/vnd.ms-powerpoint',\r\n  potx: 'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n  ppm: 'image/x-portable-pixmap',\r\n  pps: 'application/vnd.ms-powerpoint',\r\n  ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n  ppt: 'application/vnd.ms-powerpoint',\r\n  pptx: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n  psb: 'application/vnd.3gpp.pic-bw-small',\r\n  psd: 'image/vnd.adobe.photoshop',\r\n  pvb: 'application/vnd.3gpp.pic-bw-var',\r\n  pya: 'audio/vnd.ms-playready.media.pya',\r\n  pyv: 'video/vnd.ms-playready.media.pyv',\r\n  qt: 'video/quicktime',\r\n  ra: 'audio/x-pn-realaudio',\r\n  ram: 'audio/x-pn-realaudio',\r\n  ras: 'image/x-cmu-raster',\r\n  rgb: 'image/x-rgb',\r\n  rip: 'audio/vnd.rip',\r\n  rlc: 'image/vnd.fujixerox.edmics-rlc',\r\n  rmi: 'audio/midi',\r\n  rmp: 'audio/x-pn-realaudio-plugin',\r\n  s3m: 'audio/s3m',\r\n  sgi: 'image/sgi',\r\n  sgm: 'text/sgml',\r\n  sgml: 'text/sgml',\r\n  sid: 'image/x-mrsid-image',\r\n  sil: 'audio/silk',\r\n  sldx: 'application/vnd.openxmlformats-officedocument.presentationml.slide',\r\n  smv: 'video/x-smv',\r\n  snd: 'audio/basic',\r\n  spx: 'audio/ogg',\r\n  srt: 'application/x-subrip',\r\n  sub: 'text/vnd.dvb.subtitle',\r\n  svg: 'image/svg+xml',\r\n  svgz: 'image/svg+xml',\r\n  swf: 'application/x-shockwave-flash',\r\n  tcap: 'application/vnd.3gpp2.tcap',\r\n  text: 'text/plain',\r\n  tga: 'image/x-tga',\r\n  tif: 'image/tiff',\r\n  tiff: 'image/tiff',\r\n  torrent: 'application/x-bittorrent',\r\n  tsv: 'text/tab-separated-values',\r\n  ttl: 'text/turtle',\r\n  txt: 'text/plain',\r\n  udeb: 'application/x-debian-package',\r\n  uva: 'audio/vnd.dece.audio',\r\n  uvg: 'image/vnd.dece.graphic',\r\n  uvh: 'video/vnd.dece.hd',\r\n  uvi: 'image/vnd.dece.graphic',\r\n  uvm: 'video/vnd.dece.mobile',\r\n  uvp: 'video/vnd.dece.pd',\r\n  uvs: 'video/vnd.dece.sd',\r\n  uvu: 'video/vnd.uvvu.mp4',\r\n  uvv: 'video/vnd.dece.video',\r\n  uvva: 'audio/vnd.dece.audio',\r\n  uvvg: 'image/vnd.dece.graphic',\r\n  uvvh: 'video/vnd.dece.hd',\r\n  uvvi: 'image/vnd.dece.graphic',\r\n  uvvm: 'video/vnd.dece.mobile',\r\n  uvvp: 'video/vnd.dece.pd',\r\n  uvvs: 'video/vnd.dece.sd',\r\n  uvvu: 'video/vnd.uvvu.mp4',\r\n  uvvv: 'video/vnd.dece.video',\r\n  viv: 'video/vnd.vivo',\r\n  vob: 'video/x-ms-vob',\r\n  wav: 'audio/x-wav',\r\n  wax: 'audio/x-ms-wax',\r\n  wbmp: 'image/vnd.wap.wbmp',\r\n  wdp: 'image/vnd.ms-photo',\r\n  weba: 'audio/webm',\r\n  webm: 'video/webm',\r\n  webp: 'image/webp',\r\n  wm: 'video/x-ms-wm',\r\n  wma: 'audio/x-ms-wma',\r\n  wmf: 'application/x-msmetafile',\r\n  wmv: 'video/x-ms-wmv',\r\n  wmx: 'video/x-ms-wmx',\r\n  wvx: 'video/x-ms-wvx',\r\n  xap: 'application/x-silverlight-app',\r\n  xbm: 'image/x-xbitmap',\r\n  xht: 'application/xhtml+xml',\r\n  xhtml: 'application/xhtml+xml',\r\n  xhvml: 'application/xv+xml',\r\n  xif: 'image/vnd.xiff',\r\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n  xm: 'audio/xm',\r\n  xml: 'application/xml',\r\n  xop: 'application/xop+xml',\r\n  xpl: 'application/xproc+xml',\r\n  xpm: 'image/x-xpixmap',\r\n  xsl: 'application/xml',\r\n  xslt: 'application/xslt+xml',\r\n  xspf: 'application/xspf+xml',\r\n  xvm: 'application/xv+xml',\r\n  xvml: 'application/xv+xml',\r\n  xwd: 'image/x-xwindowdump',\r\n  zip: 'application/zip'\r\n};\r\nconst ext: {\r\n  [key: string]: string;\r\n} = {};\r\nexport function filemime(name: string) {\r\n  var fext = fileext(name);\r\n  return extmime[fext] || 'application/octet-stream';\r\n}\r\n\r\nexport function filetype(name: string): string {\r\n  var fext = fileext(name);\r\n  if (ext[fext]) {\r\n    return ext[fext][1];\r\n  } else if (fext && fext.length > 1) {\r\n    return '%1 File'.replace('%1', fext.toUpperCase());\r\n  } else {\r\n    return 'File';\r\n  }\r\n}\r\nexport function fileext(name: string, uppercase: boolean = false, iknowwhatimdoing: boolean = false) {\r\n  name = String(name || '');\r\n  if (!name) {\r\n    name = 'unknown';\r\n  }\r\n\r\n  var ext = name.substr(name.lastIndexOf('.') + 1);\r\n  if (ext === name) {\r\n    ext = '';\r\n  } else if (!iknowwhatimdoing) {\r\n    ext = ext.replace(/<[^>]*>/g, '').replace(/[^\\w+]/g, '');\r\n\r\n    if (ext.length > 9) {\r\n      ext = ext.substr(0, 9);\r\n    }\r\n  }\r\n\r\n  return uppercase ? ext.toUpperCase() : ext.toLowerCase();\r\n}\r\n\r\nexport function dec2hex(dec: number) {\r\n  return ('0' + dec.toString(16)).substr(-2);\r\n}\r\n\r\nexport function generateId(len: number) {\r\n  var arr = new Uint8Array((len || 40) / 2);\r\n  window.crypto.getRandomValues(arr);\r\n  return Array.from(arr, dec2hex).join('');\r\n}\r\n","var crc32table = [\r\n  0x00000000,\r\n  0x77073096,\r\n  0xee0e612c,\r\n  0x990951ba,\r\n  0x076dc419,\r\n  0x706af48f,\r\n  0xe963a535,\r\n  0x9e6495a3,\r\n  0x0edb8832,\r\n  0x79dcb8a4,\r\n  0xe0d5e91e,\r\n  0x97d2d988,\r\n  0x09b64c2b,\r\n  0x7eb17cbd,\r\n  0xe7b82d07,\r\n  0x90bf1d91,\r\n  0x1db71064,\r\n  0x6ab020f2,\r\n  0xf3b97148,\r\n  0x84be41de,\r\n  0x1adad47d,\r\n  0x6ddde4eb,\r\n  0xf4d4b551,\r\n  0x83d385c7,\r\n  0x136c9856,\r\n  0x646ba8c0,\r\n  0xfd62f97a,\r\n  0x8a65c9ec,\r\n  0x14015c4f,\r\n  0x63066cd9,\r\n  0xfa0f3d63,\r\n  0x8d080df5,\r\n  0x3b6e20c8,\r\n  0x4c69105e,\r\n  0xd56041e4,\r\n  0xa2677172,\r\n  0x3c03e4d1,\r\n  0x4b04d447,\r\n  0xd20d85fd,\r\n  0xa50ab56b,\r\n  0x35b5a8fa,\r\n  0x42b2986c,\r\n  0xdbbbc9d6,\r\n  0xacbcf940,\r\n  0x32d86ce3,\r\n  0x45df5c75,\r\n  0xdcd60dcf,\r\n  0xabd13d59,\r\n  0x26d930ac,\r\n  0x51de003a,\r\n  0xc8d75180,\r\n  0xbfd06116,\r\n  0x21b4f4b5,\r\n  0x56b3c423,\r\n  0xcfba9599,\r\n  0xb8bda50f,\r\n  0x2802b89e,\r\n  0x5f058808,\r\n  0xc60cd9b2,\r\n  0xb10be924,\r\n  0x2f6f7c87,\r\n  0x58684c11,\r\n  0xc1611dab,\r\n  0xb6662d3d,\r\n  0x76dc4190,\r\n  0x01db7106,\r\n  0x98d220bc,\r\n  0xefd5102a,\r\n  0x71b18589,\r\n  0x06b6b51f,\r\n  0x9fbfe4a5,\r\n  0xe8b8d433,\r\n  0x7807c9a2,\r\n  0x0f00f934,\r\n  0x9609a88e,\r\n  0xe10e9818,\r\n  0x7f6a0dbb,\r\n  0x086d3d2d,\r\n  0x91646c97,\r\n  0xe6635c01,\r\n  0x6b6b51f4,\r\n  0x1c6c6162,\r\n  0x856530d8,\r\n  0xf262004e,\r\n  0x6c0695ed,\r\n  0x1b01a57b,\r\n  0x8208f4c1,\r\n  0xf50fc457,\r\n  0x65b0d9c6,\r\n  0x12b7e950,\r\n  0x8bbeb8ea,\r\n  0xfcb9887c,\r\n  0x62dd1ddf,\r\n  0x15da2d49,\r\n  0x8cd37cf3,\r\n  0xfbd44c65,\r\n  0x4db26158,\r\n  0x3ab551ce,\r\n  0xa3bc0074,\r\n  0xd4bb30e2,\r\n  0x4adfa541,\r\n  0x3dd895d7,\r\n  0xa4d1c46d,\r\n  0xd3d6f4fb,\r\n  0x4369e96a,\r\n  0x346ed9fc,\r\n  0xad678846,\r\n  0xda60b8d0,\r\n  0x44042d73,\r\n  0x33031de5,\r\n  0xaa0a4c5f,\r\n  0xdd0d7cc9,\r\n  0x5005713c,\r\n  0x270241aa,\r\n  0xbe0b1010,\r\n  0xc90c2086,\r\n  0x5768b525,\r\n  0x206f85b3,\r\n  0xb966d409,\r\n  0xce61e49f,\r\n  0x5edef90e,\r\n  0x29d9c998,\r\n  0xb0d09822,\r\n  0xc7d7a8b4,\r\n  0x59b33d17,\r\n  0x2eb40d81,\r\n  0xb7bd5c3b,\r\n  0xc0ba6cad,\r\n  0xedb88320,\r\n  0x9abfb3b6,\r\n  0x03b6e20c,\r\n  0x74b1d29a,\r\n  0xead54739,\r\n  0x9dd277af,\r\n  0x04db2615,\r\n  0x73dc1683,\r\n  0xe3630b12,\r\n  0x94643b84,\r\n  0x0d6d6a3e,\r\n  0x7a6a5aa8,\r\n  0xe40ecf0b,\r\n  0x9309ff9d,\r\n  0x0a00ae27,\r\n  0x7d079eb1,\r\n  0xf00f9344,\r\n  0x8708a3d2,\r\n  0x1e01f268,\r\n  0x6906c2fe,\r\n  0xf762575d,\r\n  0x806567cb,\r\n  0x196c3671,\r\n  0x6e6b06e7,\r\n  0xfed41b76,\r\n  0x89d32be0,\r\n  0x10da7a5a,\r\n  0x67dd4acc,\r\n  0xf9b9df6f,\r\n  0x8ebeeff9,\r\n  0x17b7be43,\r\n  0x60b08ed5,\r\n  0xd6d6a3e8,\r\n  0xa1d1937e,\r\n  0x38d8c2c4,\r\n  0x4fdff252,\r\n  0xd1bb67f1,\r\n  0xa6bc5767,\r\n  0x3fb506dd,\r\n  0x48b2364b,\r\n  0xd80d2bda,\r\n  0xaf0a1b4c,\r\n  0x36034af6,\r\n  0x41047a60,\r\n  0xdf60efc3,\r\n  0xa867df55,\r\n  0x316e8eef,\r\n  0x4669be79,\r\n  0xcb61b38c,\r\n  0xbc66831a,\r\n  0x256fd2a0,\r\n  0x5268e236,\r\n  0xcc0c7795,\r\n  0xbb0b4703,\r\n  0x220216b9,\r\n  0x5505262f,\r\n  0xc5ba3bbe,\r\n  0xb2bd0b28,\r\n  0x2bb45a92,\r\n  0x5cb36a04,\r\n  0xc2d7ffa7,\r\n  0xb5d0cf31,\r\n  0x2cd99e8b,\r\n  0x5bdeae1d,\r\n  0x9b64c2b0,\r\n  0xec63f226,\r\n  0x756aa39c,\r\n  0x026d930a,\r\n  0x9c0906a9,\r\n  0xeb0e363f,\r\n  0x72076785,\r\n  0x05005713,\r\n  0x95bf4a82,\r\n  0xe2b87a14,\r\n  0x7bb12bae,\r\n  0x0cb61b38,\r\n  0x92d28e9b,\r\n  0xe5d5be0d,\r\n  0x7cdcefb7,\r\n  0x0bdbdf21,\r\n  0x86d3d2d4,\r\n  0xf1d4e242,\r\n  0x68ddb3f8,\r\n  0x1fda836e,\r\n  0x81be16cd,\r\n  0xf6b9265b,\r\n  0x6fb077e1,\r\n  0x18b74777,\r\n  0x88085ae6,\r\n  0xff0f6a70,\r\n  0x66063bca,\r\n  0x11010b5c,\r\n  0x8f659eff,\r\n  0xf862ae69,\r\n  0x616bffd3,\r\n  0x166ccf45,\r\n  0xa00ae278,\r\n  0xd70dd2ee,\r\n  0x4e048354,\r\n  0x3903b3c2,\r\n  0xa7672661,\r\n  0xd06016f7,\r\n  0x4969474d,\r\n  0x3e6e77db,\r\n  0xaed16a4a,\r\n  0xd9d65adc,\r\n  0x40df0b66,\r\n  0x37d83bf0,\r\n  0xa9bcae53,\r\n  0xdebb9ec5,\r\n  0x47b2cf7f,\r\n  0x30b5ffe9,\r\n  0xbdbdf21c,\r\n  0xcabac28a,\r\n  0x53b39330,\r\n  0x24b4a3a6,\r\n  0xbad03605,\r\n  0xcdd70693,\r\n  0x54de5729,\r\n  0x23d967bf,\r\n  0xb3667a2e,\r\n  0xc4614ab8,\r\n  0x5d681b02,\r\n  0x2a6f2b94,\r\n  0xb40bbe37,\r\n  0xc30c8ea1,\r\n  0x5a05df1b,\r\n  0x2d02ef8d\r\n];\r\n\r\nexport default function crc32(data: any, crc?: any, len?: any) {\r\n  if (typeof crc === 'undefined') {\r\n    crc = 0;\r\n  }\r\n  if (typeof len === 'undefined') {\r\n    len = data.length;\r\n  }\r\n\r\n  var x = 0;\r\n  var y = 0;\r\n\r\n  var off = data.length - len;\r\n\r\n  crc = crc ^ -1;\r\n\r\n  for (var i = 0; i < len; i++) {\r\n    y = (crc ^ data[i + off]) & 0xff;\r\n    x = crc32table[y];\r\n    crc = (crc >>> 8) ^ x;\r\n  }\r\n\r\n  return crc ^ -1;\r\n}\r\n","//     Int64.js\r\n//\r\n//     Copyright (c) 2012 Robert Kieffer\r\n//     MIT License - http://opensource.org/licenses/mit-license.php\r\n\r\n/**\r\n * Support for handling 64-bit int numbers in Javascript (node.js)\r\n *\r\n * JS Numbers are IEEE-754 binary double-precision floats, which limits the\r\n * range of values that can be represented with integer precision to:\r\n *\r\n * 2^^53 <= N <= 2^53\r\n *\r\n * Int64 objects wrap a node Buffer that holds the 8-bytes of int64 data.  These\r\n * objects operate directly on the buffer which means that if they are created\r\n * using an existing buffer then setting the value will modify the Buffer, and\r\n * vice-versa.\r\n *\r\n * Internal Representation\r\n *\r\n * The internal buffer format is Big Endian.  I.e. the most-significant byte is\r\n * at buffer[0], the least-significant at buffer[7].  For the purposes of\r\n * converting to/from JS native numbers, the value is assumed to be a signed\r\n * integer stored in 2's complement form.\r\n *\r\n * For details about IEEE-754 see:\r\n * http://en.wikipedia.org/wiki/Double_precision_floating-point_format\r\n */\r\n\r\n// Useful masks and values for bit twiddling\r\nvar MASK31 = 0x7fffffff,\r\n  VAL31 = 0x80000000;\r\nvar MASK32 = 0xffffffff,\r\n  VAL32 = 0x100000000;\r\n\r\n// Map for converting hex octets to strings\r\nvar _HEX: any = [];\r\nfor (var i = 0; i < 256; i++) {\r\n  _HEX[i] = (i > 0xf ? '' : '0') + i.toString(16);\r\n}\r\n\r\nvar hasBuffer = typeof Buffer !== 'undefined';\r\n\r\n//\r\n// Int64\r\n//\r\n\r\n/**\r\n * Constructor accepts any of the following argument types:\r\n *\r\n * new Int64(buffer[, offset=0]) - Existing Buffer with byte offset\r\n * new Int64(Uint8Array[, offset=0]) - Existing Uint8Array with a byte offset\r\n * new Int64(string)             - Hex string (throws if n is outside int64 range)\r\n * new Int64(number)             - Number (throws if n is outside int64 range)\r\n * new Int64(hi, lo)             - Raw bits as two 32-bit values\r\n */\r\nclass Int64 {\r\n  // Max integer value that JS can accurately represent\r\n  static MAX_INT: number = Math.pow(2, 53);\r\n  // Min integer value that JS can accurately represent\r\n  static MIN_INT: number = -Math.pow(2, 53);\r\n\r\n  public buffer: any;\r\n  public offset: any;\r\n\r\n  constructor(a1: any, a2: any) {\r\n    var asIs = hasBuffer ? a1 instanceof Buffer : a1 instanceof Uint8Array;\r\n    if (asIs) {\r\n      this.buffer = a1;\r\n      this.offset = a2 || 0;\r\n    } else if (Object.prototype.toString.call(a1) == '[object Uint8Array]') {\r\n      // Under Browserify, Buffers can extend Uint8Arrays rather than an\r\n      // instance of Buffer. We could assume the passed in Uint8Array is actually\r\n      // a buffer but that won't handle the case where a raw Uint8Array is passed\r\n      // in. We construct a new Buffer just in case.\r\n      this.buffer = new Buffer(a1);\r\n      this.offset = a2 || 0;\r\n    } else {\r\n      this.buffer = this.buffer || (hasBuffer ? new Buffer(8) : new Uint8Array(8));\r\n      this.offset = 0;\r\n      this.setValue(a1, a2);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Do in-place 2's compliment.  See\r\n   * http://en.wikipedia.org/wiki/Two's_complement\r\n   */\r\n  _2scomp = () => {\r\n    var b = this.buffer,\r\n      o = this.offset,\r\n      carry = 1;\r\n    for (var i = o + 7; i >= o; i--) {\r\n      var v = (b[i] ^ 0xff) + carry;\r\n      b[i] = v & 0xff;\r\n      carry = v >> 8;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Set the value. Takes any of the following arguments:\r\n   *\r\n   * setValue(string) - A hexidecimal string\r\n   * setValue(number) - Number (throws if n is outside int64 range)\r\n   * setValue(hi, lo) - Raw bits as two 32-bit values\r\n   */\r\n  setValue = (hi: any, lo: any) => {\r\n    var negate = false;\r\n    if (!lo) {\r\n      if (typeof hi == 'number') {\r\n        // Simplify bitfield retrieval by using abs() value.  We restore sign\r\n        // later\r\n        negate = hi < 0;\r\n        hi = Math.abs(hi);\r\n        lo = hi % VAL32;\r\n        hi = hi / VAL32;\r\n        if (hi > VAL32) throw new RangeError(hi + ' is outside Int64 range');\r\n        hi = hi | 0;\r\n      } else if (typeof hi == 'string') {\r\n        hi = (hi + '').replace(/^0x/, '');\r\n        lo = hi.substr(-8);\r\n        hi = hi.length > 8 ? hi.substr(0, hi.length - 8) : '';\r\n        hi = parseInt(hi, 16);\r\n        lo = parseInt(lo, 16);\r\n      } else {\r\n        throw new Error(hi + ' must be a Number or String');\r\n      }\r\n    }\r\n\r\n    // Technically we should throw if hi or lo is outside int32 range here, but\r\n    // it's not worth the effort. Anything past the 32'nd bit is ignored.\r\n\r\n    // Copy bytes to buffer\r\n    var b = this.buffer,\r\n      o = this.offset;\r\n    for (var i = 7; i >= 0; i--) {\r\n      b[o + i] = lo & 0xff;\r\n      lo = i == 4 ? hi : lo >>> 8;\r\n    }\r\n\r\n    // Restore sign of passed argument\r\n    if (negate) this._2scomp();\r\n  };\r\n\r\n  /**\r\n   * Convert to a native JS number.\r\n   *\r\n   * WARNING: Do not expect this value to be accurate to integer precision for\r\n   * large (positive or negative) numbers!\r\n   *\r\n   * @param allowImprecise If true, no check is performed to verify the\r\n   * returned value is accurate to integer precision.  If false, imprecise\r\n   * numbers (very large positive or negative numbers) will be forced to +/-\r\n   * Infinity.\r\n   */\r\n  toNumber = (allowImprecise: any) => {\r\n    var b = this.buffer,\r\n      o = this.offset;\r\n\r\n    // Running sum of octets, doing a 2's complement\r\n    var negate = b[o] & 0x80,\r\n      x = 0,\r\n      carry = 1;\r\n    for (var i = 7, m = 1; i >= 0; i--, m *= 256) {\r\n      var v = b[o + i];\r\n\r\n      // 2's complement for negative numbers\r\n      if (negate) {\r\n        v = (v ^ 0xff) + carry;\r\n        carry = v >> 8;\r\n        v = v & 0xff;\r\n      }\r\n\r\n      x += v * m;\r\n    }\r\n\r\n    // Return Infinity if we've lost integer precision\r\n    if (!allowImprecise && x >= Int64.MAX_INT) {\r\n      return negate ? -Infinity : Infinity;\r\n    }\r\n\r\n    return negate ? -x : x;\r\n  };\r\n\r\n  /**\r\n   * Convert to a JS Number. Returns +/-Infinity for values that can't be\r\n   * represented to integer precision.\r\n   */\r\n  valueOf = () => {\r\n    return this.toNumber(false);\r\n  };\r\n\r\n  /**\r\n   * Return string value\r\n   *\r\n   * @param radix Just like Number#toString()'s radix\r\n   */\r\n  toString = (radix: number) => {\r\n    return this.valueOf().toString(radix || 10);\r\n  };\r\n\r\n  /**\r\n   * Return a string showing the buffer octets, with MSB on the left.\r\n   *\r\n   * @param sep separator string. default is '' (empty string)\r\n   */\r\n  toOctetString = (sep: string) => {\r\n    var out = new Array(8);\r\n    var b = this.buffer,\r\n      o = this.offset;\r\n    for (var i = 0; i < 8; i++) {\r\n      out[i] = _HEX[b[o + i]];\r\n    }\r\n    return out.join(sep || '');\r\n  };\r\n\r\n  /**\r\n   * Returns the int64's 8 bytes in a buffer.\r\n   *\r\n   * @param {bool} [rawBuffer=false]  If no offset and this is true, return the internal buffer.  Should only be used if\r\n   *                                  you're discarding the Int64 afterwards, as it breaks encapsulation.\r\n   */\r\n  toBuffer = (rawBuffer: boolean) => {\r\n    if (rawBuffer && this.offset === 0) return this.buffer;\r\n\r\n    var out = new Buffer(8);\r\n    this.buffer.copy(out, 0, this.offset, this.offset + 8);\r\n    return out;\r\n  };\r\n\r\n  /**\r\n   * Copy 8 bytes of int64 into target buffer at target offset.\r\n   *\r\n   * @param {Buffer} targetBuffer       Buffer to copy into.\r\n   * @param {number} [targetOffset=0]   Offset into target buffer.\r\n   */\r\n  copy = (targetBuffer: Buffer, targetOffset: number) => {\r\n    this.buffer.copy(targetBuffer, targetOffset || 0, this.offset, this.offset + 8);\r\n  };\r\n\r\n  /**\r\n   * Returns a number indicating whether this comes before or after or is the\r\n   * same as the other in sort order.\r\n   *\r\n   * @param {Int64} other  Other Int64 to compare.\r\n   */\r\n  compare = (other: any) => {\r\n    // If sign bits differ ...\r\n    if ((this.buffer[this.offset] & 0x80) != (other.buffer[other.offset] & 0x80)) {\r\n      return other.buffer[other.offset] - this.buffer[this.offset];\r\n    }\r\n\r\n    // otherwise, compare bytes lexicographically\r\n    for (var i = 0; i < 8; i++) {\r\n      if (this.buffer[this.offset + i] !== other.buffer[other.offset + i]) {\r\n        return this.buffer[this.offset + i] - other.buffer[other.offset + i];\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  /**\r\n   * Returns a boolean indicating if this integer is equal to other.\r\n   *\r\n   * @param {Int64} other  Other Int64 to compare.\r\n   */\r\n  equals = (other: any) => {\r\n    return this.compare(other) === 0;\r\n  };\r\n\r\n  /**\r\n   * Pretty output in console.log\r\n   */\r\n  inspect = () => {\r\n    return '[Int64 value:' + this + ' octets:' + this.toOctetString(' ') + ']';\r\n  };\r\n}\r\n\r\nexport default Int64;\r\n","import Crc32 from '../utils/crc32';\r\nimport Int64 from '../utils/Int64';\r\nimport SavvyFile from '../file';\r\nimport Transfer from '../transfer';\r\n\r\n/**\r\n * Converts a string to a UTF-8 encoded Uint8Array.\r\n */\r\nfunction toUtf8Bytes(str: string): Uint8Array {\r\n  return new TextEncoder().encode(str);\r\n}\r\n\r\n/**\r\n * get a ziped buffer of origin buffer from http request\r\n * @param {SavvyFile} currentFile file which being downloaded\r\n * @param {Transfer} transfer transfer which being ziped (might has multiply files)\r\n * @param {ArrayBuffer} _buffer buffer which need be processed\r\n * @param {boolean} isLast indicates if this buffer is the last chunk of the last file belong to current transfer\r\n *\r\n * @returns {Promise<ArrayBuffer>}\r\n */\r\nexport async function zipBuffer(currentFile: SavvyFile, transfer: Transfer, _buffer: ArrayBuffer, isLast: boolean): Promise<ArrayBuffer> {\r\n  // part of the current file.\r\n  let buffer: Uint8Array = new Uint8Array(_buffer);\r\n\r\n  let crc: number = Crc32(buffer, currentFile.crc || 0, buffer.byteLength);\r\n  let ziper: ZIPClass = new ZIPClass(transfer.fileSize);\r\n\r\n  // let fileName: string = unescape(encodeURIComponent(currentFile.name));\r\n  let fileNameBytes: Uint8Array = toUtf8Bytes(currentFile.name);\r\n  currentFile.bufferAcc += buffer.byteLength;\r\n  currentFile.crc = crc;\r\n\r\n  if (currentFile.offset === 0) {\r\n    // begin set header\r\n    currentFile.headerPos = transfer.offset;\r\n    // let ebuf: any = ezBuffer(1 + 4 + 4 + fileName.length);\r\n    let ebuf: any = ezBuffer(1 + 4 + 4 + fileNameBytes.length);\r\n\r\n    ebuf.i16(zipUtf8ExtraId);\r\n    // ebuf.i16(5 + fileName.length); // size\r\n    ebuf.i16(5 + fileNameBytes.length); // size\r\n    ebuf.i8(1); // version\r\n    // ebuf.i32(Crc32(fileName));\r\n    ebuf.i32(Crc32(fileNameBytes));\r\n    ebuf.appendBytes(fileNameBytes);\r\n\r\n    let header: Uint8Array = ziper.ZipHeader(fileNameBytes, currentFile.fileSize /* TO-DO: add file date */, ebuf.getArray());\r\n\r\n    let d = new Uint8Array(header.byteLength + buffer.byteLength);\r\n    d.set(header, 0);\r\n    d.set(buffer, header.byteLength);\r\n\r\n    buffer = d;\r\n    // console.log('add header');\r\n  }\r\n\r\n  // begin set central directory\r\n  if (currentFile.bufferAcc === currentFile.fileSize) {\r\n    let centralDir = ziper.ZipCentralDirectory(fileNameBytes, currentFile.fileSize, currentFile.fileSize, crc, false, currentFile.headerPos);\r\n    // zipFile.dirData.push(centralDir.dirRecord);\r\n    let centralDirBuffer: Uint8Array = centralDir.dataDescriptor;\r\n\r\n    let d = new Uint8Array(buffer.byteLength + centralDirBuffer.byteLength);\r\n    d.set(buffer, 0);\r\n    d.set(centralDirBuffer, buffer.byteLength);\r\n\r\n    buffer = d;\r\n  } else {\r\n    currentFile.offset += buffer.byteLength;\r\n  }\r\n\r\n  if (isLast) {\r\n    let dirRecord = transfer.files.map((file: SavvyFile) => {\r\n      let fileNameBytes = toUtf8Bytes(file.name);\r\n      let tmpCentralDir = ziper.ZipCentralDirectory(fileNameBytes, file.fileSize, file.fileSize, file.crc, false, file.headerPos);\r\n\r\n      return tmpCentralDir.dirRecord;\r\n    });\r\n    let end = ziper.ZipSuffix(buffer.byteLength + transfer.offset, dirRecord);\r\n    let dirData: any[] = transfer.files.map((file: SavvyFile) => ziper.ZipCentralDirectory(toUtf8Bytes(file.name), file.fileSize, file.fileSize, file.crc, false, file.headerPos).dirRecord);\r\n\r\n    let tmpSize: number = 0,\r\n      tmpOffset: number = buffer.byteLength,\r\n      tmpBuf: Uint8Array;\r\n\r\n    for (let i in dirData) {\r\n      tmpSize += dirData[i].byteLength;\r\n    }\r\n\r\n    tmpBuf = new Uint8Array(buffer.byteLength + tmpSize + end.byteLength);\r\n\r\n    tmpBuf.set(buffer, 0);\r\n\r\n    for (let i in dirData) {\r\n      tmpBuf.set(dirData[i], tmpOffset);\r\n      tmpOffset += dirData[i].byteLength;\r\n    }\r\n\r\n    console.log(end);\r\n    tmpBuf.set(end, tmpOffset);\r\n\r\n    buffer = tmpBuf;\r\n  }\r\n\r\n  transfer.offset += buffer.byteLength;\r\n\r\n  return new Promise((resolve: Function, reject: Function) => {\r\n    resolve(buffer);\r\n  });\r\n}\r\n\r\nconst fileHeaderLen: number = 30;\r\nconst noCompression: number = 0;\r\n/**\r\n * 常见的 Flags 值\r\n * 0x0000 (0): 无压缩、没有加密、没有数据描述符、文件名不使用 UTF-8 编码\r\n * 0x0008: 使用 UTF-8 编码（对于文件名）\r\n * 0x0001: 文件加密\r\n * 0x0002: 使用数据描述符\r\n * 0x808: UTF-8 编码 + 数据描述符（通常用于现代 ZIP 文件）\r\n */\r\nconst defaultFlags: number = 0x808; /* UTF-8 */\r\nconst i32max: number = 0xffffffff;\r\nconst i16max: number = 0xffff;\r\nconst zip64ExtraId: number = 0x0001;\r\nconst zipUtf8ExtraId: number = 0x7075;\r\nconst directory64LocLen: number = 20;\r\nconst directory64EndLen: number = 56;\r\nconst directoryEndLen: number = 22;\r\n// 小字节序, 低位字节存储在低地址，高位字节存储在高地址。\r\n// 16进制显示为 50 4B 03 04\r\nconst fileHeaderSignature: number = 0x04034b50;\r\nconst directory64LocSignature: number = 0x07064b50;\r\nconst directory64EndSignature: number = 0x06064b50;\r\nconst directoryEndSignature: number = 0x06054b50;\r\nconst dataDescriptorSignature: number = 0x08074b50; // de-facto standard; required by OS X Finder\r\nconst directoryHeaderSignature: number = 0x02014b50;\r\nconst dataDescriptorLen: number = 16;\r\nconst dataDescriptor64Len: number = 24;\r\nconst directoryHeaderLen: number = 46;\r\n\r\nclass ZIPClass {\r\n  private maxZipSize: number = Math.pow(2, 31) * 0.9;\r\n  private isZip64: boolean = false;\r\n  private zipVersion: number = 20;\r\n\r\n  constructor(totalSize: number) {\r\n    this.isZip64 = totalSize > this.maxZipSize || localStorage.zip64 === 1;\r\n    this.zipVersion = this.isZip64 ? 45 : 20;\r\n  }\r\n\r\n  ZipHeader(fileNameBytes: Uint8Array, fileSize: number, extra: number[]) {\r\n    let readerVersion: number = this.zipVersion,\r\n      Flags: number = defaultFlags,\r\n      Method: number = noCompression,\r\n      date: number = 0,\r\n      crc32: number = 0,\r\n      unsize: number = 0;\r\n\r\n    Flags |= 0x0800; // Enable UTF-8 flag\r\n\r\n    let buf = ezBuffer(fileHeaderLen + fileNameBytes.length + extra.length);\r\n    buf.i32(fileHeaderSignature);\r\n    buf.i16(readerVersion);\r\n    buf.i16(Flags);\r\n    buf.i16(Method);\r\n    DosDateTime(date, buf);\r\n    // 开启了数据描述符， 所以这里应该被置空\r\n    buf.i32(crc32); // crc32\r\n    buf.i32(fileSize); // compress size\r\n    buf.i32(unsize); // uncompress size\r\n    buf.i16(fileNameBytes.length);\r\n    buf.i16(extra.length);\r\n    buf.appendBytes(fileNameBytes);\r\n    buf.appendBytes(extra);\r\n\r\n    return buf.getBytes();\r\n  }\r\n  /**\r\n   * @param {number} size compressed size\r\n   * @param {number} unsize uncompress size\r\n   * @param {number} crc32\r\n   * @param {boolean} directory\r\n   * @param {number} headerpos header position\r\n   */\r\n\r\n  ZipCentralDirectory(fileNameBytes: Uint8Array, size: number, unsize: number, crc32: number, directory: boolean, headerpos: number) {\r\n    let creatorVersion: number = this.zipVersion;\r\n    let readerVersion: number = this.zipVersion;\r\n    let Flags: number = defaultFlags;\r\n    let Method: number = noCompression;\r\n    let date: number = 0;\r\n    let externalAttr: number = directory ? 1 : 0;\r\n\r\n    let extra: number[] = [],\r\n      ebuf: any;\r\n\r\n    if (this.isZip64) {\r\n      ebuf = ezBuffer(28); // 2xi16 + 3xi64\r\n      ebuf.i16(zip64ExtraId);\r\n      ebuf.i16(24);\r\n      ebuf.i64(size);\r\n      ebuf.i64(unsize);\r\n      ebuf.i64(headerpos);\r\n      extra = extra.concat(ebuf.getArray());\r\n    }\r\n\r\n    var centralDirectoryBuf = ezBuffer(directoryHeaderLen + fileNameBytes.length + extra.length);\r\n    centralDirectoryBuf.i32(directoryHeaderSignature);\r\n    centralDirectoryBuf.i16(creatorVersion);\r\n    centralDirectoryBuf.i16(readerVersion);\r\n    centralDirectoryBuf.i16(Flags);\r\n    centralDirectoryBuf.i16(Method);\r\n    DosDateTime(date, centralDirectoryBuf);\r\n    centralDirectoryBuf.i32(crc32);\r\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : size);\r\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : unsize);\r\n    centralDirectoryBuf.i16(fileNameBytes.length);\r\n    centralDirectoryBuf.i16(extra.length);\r\n    centralDirectoryBuf.i16(0); // no comments\r\n    centralDirectoryBuf.i32(0); // disk number\r\n    centralDirectoryBuf.i32(externalAttr);\r\n    centralDirectoryBuf.i32(this.isZip64 ? i32max : headerpos);\r\n    centralDirectoryBuf.appendBytes(fileNameBytes);\r\n    centralDirectoryBuf.appendBytes(extra);\r\n\r\n    var dataDescriptorBuf = ezBuffer(this.isZip64 ? dataDescriptor64Len : dataDescriptorLen);\r\n    dataDescriptorBuf.i32(dataDescriptorSignature);\r\n    dataDescriptorBuf.i32(crc32);\r\n    if (this.isZip64) {\r\n      dataDescriptorBuf.i64(size);\r\n      dataDescriptorBuf.i64(unsize);\r\n    } else {\r\n      dataDescriptorBuf.i32(size);\r\n      dataDescriptorBuf.i32(unsize);\r\n    }\r\n\r\n    return {\r\n      dirRecord: centralDirectoryBuf.getBytes(),\r\n      dataDescriptor: dataDescriptorBuf.getBytes()\r\n    };\r\n  }\r\n\r\n  ZipSuffix(pos: number, dirData: Uint8Array[]) {\r\n    var dirDatalength = 0;\r\n    for (var i in dirData) {\r\n      dirDatalength += dirData[i].length;\r\n    }\r\n\r\n    var buf = ezBuffer(22);\r\n    if (this.isZip64) {\r\n      var xbuf = ezBuffer(directory64EndLen + directory64LocLen);\r\n      xbuf.i32(directory64EndSignature);\r\n      // directory64EndLen - 4 bytes - 8 bytes\r\n      xbuf.i64(directory64EndLen - 4 - 8);\r\n      xbuf.i16(this.zipVersion);\r\n      xbuf.i16(this.zipVersion);\r\n      xbuf.i32(0); // disk number\r\n      xbuf.i32(0); // number of the disk with the start of the central directory\r\n      xbuf.i64(dirData.length);\r\n      xbuf.i64(dirData.length);\r\n      xbuf.i64(dirDatalength);\r\n      xbuf.i64(pos);\r\n\r\n      xbuf.i32(directory64LocSignature);\r\n      xbuf.i32(0);\r\n      xbuf.i64(pos + dirDatalength);\r\n      xbuf.i32(1); // total number of disks\r\n      buf.resize(22 + xbuf.getBytes().length);\r\n      buf.appendBytes(xbuf.getBytes());\r\n    }\r\n\r\n    buf.i32(directoryEndSignature);\r\n    buf.i32(0); // skip\r\n    buf.i16(this.isZip64 ? i16max : dirData.length);\r\n    buf.i16(this.isZip64 ? i16max : dirData.length);\r\n    buf.i32(this.isZip64 ? i32max : dirDatalength);\r\n    buf.i32(this.isZip64 ? i32max : pos);\r\n    buf.i16(0); // no comments\r\n\r\n    return buf.getBytes();\r\n  }\r\n}\r\n\r\nfunction ezBuffer(size: number) {\r\n  var obj = new Uint8Array(size),\r\n    buffer = new DataView(obj.buffer),\r\n    offset = 0;\r\n  return {\r\n    debug: function() {\r\n      console.error(['DEBUG', offset, obj.length]);\r\n    },\r\n    getArray: function(): number[] {\r\n      let bytes: number[] = [];\r\n      obj.map((val: number, i: number, array: Uint8Array): number => {\r\n        bytes.push(val);\r\n\r\n        return val;\r\n      });\r\n      return bytes;\r\n    },\r\n    getBytes: function() {\r\n      return obj;\r\n    },\r\n    appendBytes: function(text: number[] | Uint8Array | string) {\r\n      var isArray = typeof text != 'string';\r\n      for (var i = text.length; i--; ) {\r\n        if (isArray) {\r\n          obj[offset + i] = (text as number[] | Uint8Array)[i];\r\n        } else {\r\n          // We assume it is an string\r\n          obj[offset + i] = (text as string).charCodeAt(i);\r\n        }\r\n      }\r\n      offset += text.length;\r\n    },\r\n    i64: function(number: number, bigendian?: boolean) {\r\n      var buffer = new Int64(number, null).buffer;\r\n      if (!bigendian) {\r\n        // swap the by orders\r\n        var nbuffer = new Uint8Array(buffer.length),\r\n          len = buffer.length - 1;\r\n        for (var i = len; i >= 0; i--) {\r\n          nbuffer[i] = buffer[len - i];\r\n        }\r\n        buffer = nbuffer;\r\n      }\r\n      // append the buffer\r\n      this.appendBytes(buffer);\r\n    },\r\n    i32: function(number: number, bigendian?: boolean) {\r\n      buffer.setInt32(offset, number, !bigendian);\r\n      offset += 4;\r\n    },\r\n    i16: function(number: number, bigendian?: boolean) {\r\n      buffer.setInt16(offset, number, !bigendian);\r\n      offset += 2;\r\n    },\r\n    i8: function(number: number, bigendian?: boolean) {\r\n      buffer.setInt8(offset, number);\r\n      offset += 1;\r\n    },\r\n    resize: function(newsize: number) {\r\n      let zobj = new Uint8Array(newsize);\r\n      zobj.set(obj, 0);\r\n      obj = zobj;\r\n      buffer = new DataView(obj.buffer);\r\n      return obj;\r\n    },\r\n    /**\r\n     *  Check if the current bytestream has enough\r\n     *  size to add \"size\" more bytes. If it doesn't have\r\n     *  we return a new bytestream object\r\n     */\r\n    resizeIfNeeded: function(size: number) {\r\n      if (obj.length < size + offset) {\r\n        return this.resize(size + offset);\r\n      }\r\n      return obj;\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n *  Set an unix time (or now if missing) in the zip\r\n *  expected format\r\n */\r\nfunction DosDateTime(sec: number, buf: any) {\r\n  var date = new Date(),\r\n    dosTime,\r\n    dosDate;\r\n\r\n  if (sec) {\r\n    date = new Date(sec * 1000);\r\n  }\r\n\r\n  dosTime = date.getHours();\r\n  dosTime = dosTime << 6;\r\n  dosTime = dosTime | date.getMinutes();\r\n  dosTime = dosTime << 5;\r\n  dosTime = dosTime | (date.getSeconds() / 2);\r\n\r\n  dosDate = date.getFullYear() - 1980;\r\n  dosDate = dosDate << 4;\r\n  dosDate = dosDate | (date.getMonth() + 1);\r\n  dosDate = dosDate << 5;\r\n  dosDate = dosDate | date.getDate();\r\n\r\n  buf.i16(dosTime);\r\n  buf.i16(dosDate);\r\n}\r\n","import SavvyIO from './IO';\r\nimport { filemime } from '../utils/index';\r\nimport { zipBuffer } from './zip';\r\nimport Transfer from '../transfer';\r\n\r\nconst customWindow: any = window;\r\nconst TEMPORARY: number = 0;\r\nconst PERSISTENT: number = 1;\r\n\r\nexport default class FilesystemIO extends SavvyIO {\r\n  private freeSpaceRequest: boolean = false;\r\n  private entrtiesReaded: boolean = false;\r\n  private allEntries: Entry[] = [];\r\n  private allResumeFiles: Array<Transfer> = [];\r\n  constructor() {\r\n    super();\r\n    customWindow.requestFileSystem = customWindow.requestFileSystem || customWindow.webkitRequestFileSystem;\r\n    // window.requestFileSystem(type, size, successCallback[, errorCallback]);\r\n    customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\r\n      // free space....\r\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\r\n        let dirReader: DirectoryReader = directoryEntry.createReader();\r\n\r\n        dirReader.readEntries((entries: Entry[]) => {\r\n          // TO-DO: can not just simply clear all old files, need to keep files which are not completely downloaded.\r\n          // console.log(entries);\r\n          this.allEntries = entries;\r\n          this.entrtiesReaded = true;\r\n          if (this.freeSpaceRequest) {\r\n            this.freeSpace(this.allResumeFiles);\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n  public removeFile(transfer: Transfer): Promise<undefined> {\r\n    return new Promise((resolve: Function, reject: Function) => {\r\n      customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\r\n        fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\r\n          let dirReader: DirectoryReader = directoryEntry.createReader();\r\n\r\n          dirReader.readEntries((entries: Entry[]) => {\r\n            entries.forEach((entry: Entry) => {\r\n              // TO-DO: need check if this file is being write to filesystem...\r\n              if (entry.name === transfer.name + transfer.id) {\r\n                entry.remove(() => {\r\n                  console.log('remove file [' + entry.name + '] from filesystem successful.');\r\n\r\n                  resolve();\r\n                });\r\n              }\r\n            });\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  public removeAll() {\r\n    customWindow.requestFileSystem(TEMPORARY, 0x10000, (fs: FileSystem) => {\r\n      // free space....\r\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\r\n        let dirReader: DirectoryReader = directoryEntry.createReader();\r\n\r\n        dirReader.readEntries((entries: Entry[]) => {\r\n          // TO-DO: can not just simply clear all old files, need to keep files which are not completely downloaded.\r\n          entries.map((entry: Entry) => {\r\n            entry.remove(() => {\r\n              console.log('remove file [' + entry.name + '] from filesystem successful.');\r\n            });\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n  /**\r\n   * @param {Transfer} transfer\r\n   * @param {Function} successCallback\r\n   * @param {Function} errorCallback\r\n   */\r\n  public getFileWriter(transfer: Transfer, successCallback: Function, errorCallback: Function): void {\r\n    customWindow.requestFileSystem(TEMPORARY, transfer.fileSize, (fs: FileSystem) => {\r\n      fs.root.getDirectory('savvy', { create: true }, (directoryEntry: DirectoryEntry) => {\r\n        fs.root.getFile('savvy/' + transfer.name + transfer.id, { create: true }, (fileEntry: FileEntry) => {\r\n          fileEntry.getMetadata((metadata: Metadata) => {\r\n            // console.log(metadata);\r\n            fileEntry.createWriter((fw: FileWriter) => {\r\n              if (metadata.size && metadata.size !== 0) {\r\n                // set offset as file size, the plus op may not effective\r\n                if (transfer.offset === metadata.size) {\r\n                  // console.log(file.offset, metadata.size);\r\n                  fw.seek(transfer.offset + 1);\r\n                } else if (transfer.offset < metadata.size) {\r\n                  // console.log(file.offset + ' ,' + metadata.size + ' - finally find u!');\r\n                  fw.onwriteend = () => {\r\n                    fw.seek(transfer.offset + 1);\r\n                    successCallback({\r\n                      fileEntry: fileEntry,\r\n                      fileWriter: fw\r\n                    });\r\n\r\n                    return;\r\n                  };\r\n\r\n                  fw.truncate(transfer.offset);\r\n                } else {\r\n                  fw.seek(0);\r\n\r\n                  transfer.abortAllResumeData();\r\n                }\r\n              }\r\n              successCallback({\r\n                fileEntry: fileEntry,\r\n                fileWriter: fw\r\n              });\r\n            });\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n  public freeSpace(transfers: Transfer[]): void {\r\n    if (this.entrtiesReaded) {\r\n      this.freeSpaceRequest = false;\r\n      this.allEntries.forEach((entry: Entry) => {\r\n        let tmpTransfer: Transfer | undefined = transfers.find((transfer: Transfer) => transfer.name + transfer.id === entry.name);\r\n        // this file need be remove.\r\n        if (tmpTransfer === undefined) {\r\n          entry.remove(\r\n            () => {\r\n              console.log(entry.name + ' removed.');\r\n            },\r\n            (err: DOMError) => {}\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      this.allResumeFiles = transfers;\r\n      this.freeSpaceRequest = true;\r\n    }\r\n  }\r\n  /**\r\n   * @param {Transfer} transfer\r\n   * @param {ArrayBuffer} buffer\r\n   */\r\n  public write(transfer: Transfer, buffer: ArrayBuffer): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      if (transfer.fileWriter) {\r\n        let fileWriter: FileWriter = transfer.fileWriter as FileWriter;\r\n        if (transfer.zip) {\r\n          // get processed data from zip writer\r\n          zipBuffer(transfer.currentFile, transfer, buffer, transfer.chunkIndex === transfer.chunkList.length).then((zipBuffer: ArrayBuffer) => {\r\n            try {\r\n              fileWriter.onwriteend = (e: ProgressEvent) => {\r\n                resolve();\r\n              };\r\n              fileWriter.write(new Blob([zipBuffer]));\r\n            } catch (e) {\r\n              console.log(e);\r\n              reject();\r\n            }\r\n          });\r\n        } else {\r\n          try {\r\n            fileWriter.onwriteend = (e: ProgressEvent) => {\r\n              resolve();\r\n            };\r\n            fileWriter.write(new Blob([buffer]));\r\n          } catch (e) {\r\n            console.log(e);\r\n            reject();\r\n          }\r\n        }\r\n      } else {\r\n        console.log('file has no file writer');\r\n        reject();\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * do not delete file while it's being copied from FS to DL folder\r\n   * conservative assumption that a file is being written at 1024 bytes per ms\r\n   * add 30000 ms margin\r\n   */\r\n  public deleteFile(transfer: Transfer): void {\r\n    // let assume\r\n    if (transfer.fileEntry) {\r\n      let _file = transfer.fileEntry as FileEntry;\r\n      if (_file.isFile) {\r\n        _file.getMetadata(\r\n          (metadata: Metadata) => {\r\n            let delTime: number = metadata.size / 1024 + 30000;\r\n            setTimeout(() => {\r\n              _file.remove(() => {\r\n                console.log('file ' + transfer.name + ' being removed from filesystem...');\r\n              });\r\n            }, delTime);\r\n          },\r\n          (err: DOMError) => {\r\n            console.log(err);\r\n          }\r\n        );\r\n      }\r\n      /* (file.fileEntry as FileEntry).file((_file: File) =>{\r\n        _file.get\r\n      }, (err: DOMError) =>{\r\n        console.log(err);\r\n      }) */\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Transfer[]}transfers\r\n   * @public\r\n   */\r\n  public download(transfers: Array<Transfer>): void {\r\n    for (let i: number = 0, l: number = transfers.length; i < l; i++) {\r\n      let fileEntry: FileEntry = transfers[i].fileEntry as FileEntry;\r\n      if (typeof transfers[i].fileEntry.file === 'function') {\r\n        try {\r\n          fileEntry.file(\r\n            (file: File) => {\r\n              this.saveFile(transfers[i], file);\r\n            },\r\n            () => {\r\n              this.saveLink(transfers[i]);\r\n            }\r\n          );\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      } else {\r\n        this.saveLink(transfers[i]);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * @param {Transfer}transfer\r\n   * @param {String?}objectURL\r\n   * @private\r\n   */\r\n  private saveLink = (transfer: Transfer, objectURL?: string) => {\r\n    let link: string | false = typeof objectURL === 'string' && objectURL;\r\n    let dlLinkNode: HTMLAnchorElement = document.createElement('a');\r\n\r\n    dlLinkNode.download = transfer.name;\r\n    dlLinkNode.href = link || transfer.fileEntry.toURL();\r\n\r\n    dlLinkNode.click();\r\n  };\r\n  /**\r\n   * @param {Transfer}transfer\r\n   * @param {File}file\r\n   * @private\r\n   */\r\n  private saveFile = (transfer: Transfer, file: File) => {\r\n    try {\r\n      let _file: File = new File([file], transfer.name, {\r\n        type: filemime(transfer.name)\r\n      });\r\n\r\n      this.saveLink(transfer, window.URL.createObjectURL(_file));\r\n    } catch (ex) {\r\n      console.log(ex);\r\n      this.saveLink(transfer);\r\n    }\r\n  };\r\n}\r\n","import SavvyIO from './IO';\r\nimport { filemime } from '../utils/index';\r\nimport Transfer from '../transfer';\r\nimport { zipBuffer } from './zip';\r\n\r\nconst MSIE: boolean = typeof MSBlobBuilder === 'function';\r\nexport default class MemoryIO extends SavvyIO {\r\n  public getFileWriter(transfer: Transfer, successCallback: Function, errorCallback: Function): void {\r\n    successCallback({\r\n      fileEntry: null,\r\n      fileWriter: new MemoryWrite()\r\n    });\r\n  }\r\n  /**\r\n   * write buffer to memory (just simply push to an array)\r\n   * @param {Transfer} transfer\r\n   * @param {ArrayBuffer} buffer\r\n   */\r\n  public write(transfer: Transfer, buffer: ArrayBuffer): Promise<undefined> {\r\n    return new Promise((resolve: Function, reject: Function) => {\r\n      let fileWriter: MemoryWrite = transfer.fileWriter as MemoryWrite;\r\n      if (transfer.zip) {\r\n        zipBuffer(transfer.currentFile, transfer, buffer, transfer.chunkIndex === transfer.chunkList.length).then((zipBuffer: ArrayBuffer) => {\r\n          try {\r\n            fileWriter.onwriteend = (e: ProgressEvent) => {\r\n              resolve();\r\n            };\r\n            fileWriter.write(new Blob([zipBuffer]));\r\n          } catch (e) {\r\n            console.log(e);\r\n            reject();\r\n          }\r\n        });\r\n      } else {\r\n        fileWriter.onwriteend = () => {\r\n          resolve();\r\n        };\r\n        fileWriter.onerror = (e: Error) => {\r\n          reject();\r\n        };\r\n\r\n        fileWriter.write(new Blob([buffer]));\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * empty buffer array.\r\n   * @param {Transfer} transfer\r\n   */\r\n  public deleteFile(transfer: Transfer): void {\r\n    (transfer.fileWriter as MemoryWrite).clear();\r\n    transfer.fileWriter = null;\r\n  }\r\n  /**\r\n   * 1. get Blob from buffer array\r\n   * 2. generate an `<a>` tag and trigger click event to download Blob as file.\r\n   * @param {Array<Transfer>} transfers\r\n   */\r\n  public download(transfers: Array<Transfer>): void {\r\n    for (let i: number = 0, l: number = transfers.length; i < l; i++) {\r\n      let blob: Blob = (transfers[i].fileWriter as MemoryWrite).getBlob(transfers[i].name);\r\n      let blob_url: string = '';\r\n      if (MSIE) {\r\n        navigator.msSaveOrOpenBlob(blob, name);\r\n      } else {\r\n        blob_url = window.URL.createObjectURL(blob);\r\n        let dlLinkNode: HTMLAnchorElement = document.createElement('a');\r\n        dlLinkNode.download = transfers[i].name;\r\n        dlLinkNode.href = blob_url;\r\n        document.body.appendChild(dlLinkNode);\r\n\r\n        // this click may triggers beforeunload...\r\n        dlLinkNode.click();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class MemoryWrite {\r\n  private blobList: MSBlobBuilder | Blob[];\r\n  public onwriteend: Function | null;\r\n  public onerror: Function | null;\r\n\r\n  public position: number = 0;\r\n  constructor() {\r\n    if (MSIE) {\r\n      this.blobList = new MSBlobBuilder();\r\n    } else {\r\n      this.blobList = [];\r\n    }\r\n\r\n    this.onwriteend = null;\r\n    this.onerror = null;\r\n  }\r\n\r\n  public getBlob(name: string): Blob {\r\n    if (MSIE) {\r\n      return (this.blobList as MSBlobBuilder).getBlob();\r\n    }\r\n    try {\r\n      return new File(this.blobList as Blob[], name, { type: filemime(name) });\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n    return new Blob((this.blobList as Blob[]) || [], { type: filemime(name) });\r\n  }\r\n\r\n  public write(buffer: Blob) {\r\n    try {\r\n      if (MSIE) {\r\n        (this.blobList as MSBlobBuilder).append(buffer);\r\n      } else {\r\n        (this.blobList as Blob[]).push(buffer);\r\n      }\r\n\r\n      this.onwriteend && this.onwriteend();\r\n    } catch (e) {\r\n      console.log(e);\r\n      this.onerror && this.onerror(e);\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    this.blobList = [];\r\n  }\r\n}\r\n","import { TChunk } from './interface';\r\n\r\nexport default class SavvyFile {\r\n  public chunkList: TChunk[] = [];\r\n\r\n  public filePath: string;\r\n  public name: string;\r\n  public fileSize: number;\r\n\r\n  public offset: number = 0;\r\n  public crc: number = 0;\r\n  public headerPos: number = 0;\r\n  public bufferAcc: number = 0;\r\n\r\n  constructor(path: string, name: string, fileSize: number, chunkSize: number, buffacc?: number, offset?: number, crc?: number) {\r\n    this.filePath = path;\r\n    this.name = name;\r\n    this.fileSize = fileSize;\r\n\r\n    this.bufferAcc = buffacc || 0;\r\n    this.offset = offset || 0;\r\n    this.crc = crc || 0;\r\n\r\n    let tmpStart: number = 0,\r\n      tmpEnd: number = 0;\r\n    while (tmpEnd < this.fileSize) {\r\n      tmpEnd = tmpStart + chunkSize;\r\n      tmpEnd = tmpEnd > this.fileSize ? this.fileSize : tmpEnd;\r\n      this.chunkList.push({\r\n        filePath: this.filePath,\r\n        start: tmpStart,\r\n        end: tmpEnd\r\n      });\r\n      tmpStart = tmpEnd + 1;\r\n    }\r\n  }\r\n}\r\n","import SavvyFile from './file';\r\nimport FilesystemIO from './methods/filesystem';\r\nimport MemoryIO, { MemoryWrite } from './methods/memory';\r\nimport { TStatus, TChunk } from './interface';\r\nimport TransferProcesser from './processer';\r\nimport { filetype } from './utils';\r\n\r\nexport default class Transfer {\r\n  public files: SavvyFile[];\r\n  public name: string;\r\n  public fileType: string = 'File';\r\n  public IO: FilesystemIO | MemoryIO;\r\n  public _status: TStatus = 'initializing';\r\n  public zip: boolean;\r\n\r\n  public id: number;\r\n  public offset: number;\r\n  public chunkIndex: number;\r\n  public chunkList: TChunk[];\r\n  public totalSize: number;\r\n  public fileSize: number; //include\r\n  public remainSize: number;\r\n\r\n  public fileWriter: FileWriter | MemoryWrite | null = null;\r\n  public fileEntry: any;\r\n  public progressHandle: Function;\r\n  public statusUpdateHandle: Function;\r\n\r\n  public processer: TransferProcesser | null = null;\r\n  public lock: boolean = false;\r\n  public paused: boolean = false;\r\n\r\n  public speed: number = 0;\r\n  public startTime: number = 0;\r\n\r\n  constructor(\r\n    files: SavvyFile[],\r\n    name: string,\r\n    IO: FilesystemIO | MemoryIO,\r\n    progressHandle: Function,\r\n    statusUpdateHandle: Function,\r\n    zip: boolean,\r\n    chunkIndex?: number,\r\n    id?: number,\r\n    offset?: number,\r\n    resumed?: boolean\r\n  ) {\r\n    this.files = files;\r\n    this.name = name;\r\n    this.fileType = filetype(this.name);\r\n    this.IO = IO;\r\n    this.id = id || new Date().getTime();\r\n    this.zip = zip;\r\n\r\n    // set file size\r\n    // -----------------------------------------------------------------\r\n    this.totalSize = files.reduce((prev: number, cur: SavvyFile) => prev + cur.fileSize, 0);\r\n    this.fileSize = 0;\r\n    if (zip) {\r\n      for (let i: number = 0, l: number = files.length; i < l; i++) {\r\n        this.fileSize += files[i].fileSize + 30 + 9 + 2 * files[i].name.length /* header */ + 46 + files[i].name.length /* dirRecord */;\r\n      }\r\n      // extra bytes for each ZipCentralDirectory\r\n      this.fileSize += files.length * 28;\r\n      // extra bytes for each dataDescriptor\r\n      this.fileSize += files.length * 24;\r\n      // final bytes\r\n      this.fileSize += 98;\r\n    } else {\r\n      this.fileSize = this.totalSize;\r\n    }\r\n\r\n    // -----------------------------------------------------------------\r\n    this.chunkList = files.reduce((pre: TChunk[], file: SavvyFile) => pre.concat(file.chunkList), []);\r\n    this.offset = offset || 0;\r\n    this.chunkIndex = chunkIndex || 0;\r\n    if (this.chunkIndex === this.chunkList.length) {\r\n      this.remainSize = 0;\r\n    } else if (this.chunkIndex !== 0) {\r\n      this.remainSize =\r\n        this.totalSize -\r\n        this.chunkList.reduce((acc: number, cur: TChunk, index: number) => {\r\n          if (index < this.chunkIndex) {\r\n            acc += cur.end - (cur.start === 0 ? 0 : cur.start - 1);\r\n          } else {\r\n            acc += 0;\r\n          }\r\n\r\n          return acc;\r\n        }, 0);\r\n    } else {\r\n      this.remainSize = this.totalSize;\r\n    }\r\n\r\n    this.progressHandle = progressHandle;\r\n    this.statusUpdateHandle = statusUpdateHandle;\r\n  }\r\n\r\n  public init = (): Promise<undefined> => {\r\n    return new Promise((resolve: Function, reject: Function) => {\r\n      this.IO.getFileWriter(\r\n        this,\r\n        (result: { fileEntry: FileEntry; fileWriter: FileWriter }) => {\r\n          this.fileWriter = result.fileWriter;\r\n          this.fileEntry = result.fileEntry;\r\n          console.log('fileWriter position' + result.fileWriter.position);\r\n          if (this.status !== 'abort') {\r\n            this.status = 'inited';\r\n          }\r\n          resolve();\r\n        },\r\n        reject\r\n      );\r\n    });\r\n  };\r\n\r\n  public abortAllResumeData() {\r\n    this.chunkIndex = 0;\r\n    this.remainSize = this.totalSize;\r\n    this.offset = 0;\r\n    this.files.forEach((file: SavvyFile) => {\r\n      file.offset = file.bufferAcc = 0;\r\n    });\r\n  }\r\n\r\n  public update = (length: number) => {\r\n    if (this.status === 'inited') {\r\n      this.status = 'downloading';\r\n    }\r\n\r\n    let tmpEndTime: number = new Date().getTime();\r\n    let duration: number = tmpEndTime - this.startTime;\r\n\r\n    // console.log('chunk ' + this.chunklist[this.nowChunkIndex - 1].start + '-' + this.chunklist[this.nowChunkIndex - 1].end + ' request complete at ' + tmpEndTime);\r\n    this.speed = (length / duration) * 1000;\r\n    this.remainSize -= length;\r\n\r\n    this.progressHandle && this.progressHandle(this.id, this.speed, this.remainSize, this.status);\r\n  };\r\n\r\n  public nextChunk(): TChunk {\r\n    this.startTime = new Date().getTime();\r\n    // make sure next chunk is available when status not chunk_empty\r\n    if (!this.chunkList[this.chunkIndex + 1]) {\r\n      this.status = 'chunk_empty';\r\n    }\r\n\r\n    // console.log('request chunk: ' + this.chunklist[this.nowChunkIndex].start + '-' + this.chunklist[this.nowChunkIndex].end + ' at ' + this.startTime);\r\n    return this.chunkList[this.chunkIndex++];\r\n  }\r\n  public resumePreChunk(): void {\r\n    if (this.status === 'chunk_empty') {\r\n      this.status = 'downloading';\r\n    }\r\n\r\n    this.chunkIndex -= 1;\r\n  }\r\n\r\n  public get status(): TStatus {\r\n    return this._status;\r\n  }\r\n  public set status(new_status: TStatus) {\r\n    this._status = new_status;\r\n    this.statusUpdateHandle && this.statusUpdateHandle(this.id, new_status);\r\n  }\r\n  /**\r\n   * use @function getStatus() to get file's current status instead of accessing it directly\r\n   * so this is done to avoid errors during ts static checking\r\n   * @ref https://github.com/Microsoft/TypeScript/issues/29155\r\n   */\r\n  public getStatus = (): TStatus => {\r\n    return this._status;\r\n  };\r\n\r\n  public get currentFile(): SavvyFile {\r\n    let tmpNowChunkIndex = this.chunkIndex - 1;\r\n    let numChunks: number = 0;\r\n    let tmpNowFile: SavvyFile = this.files[0];\r\n\r\n    for (let i = 0, l = this.files.length; i < l; i++) {\r\n      numChunks += this.files[i].chunkList.length;\r\n      if (tmpNowChunkIndex < numChunks) {\r\n        tmpNowFile = this.files[i];\r\n        break;\r\n      }\r\n    }\r\n    return tmpNowFile;\r\n  }\r\n}\r\n","import Transfer from './transfer';\r\nimport { TChunk } from './interface';\r\nimport SavvyTransfer from '.';\r\n\r\nexport default class TransferProcesser {\r\n  public idle: boolean = true;\r\n  public transfer: Transfer | null = null;\r\n  /**\r\n   * use @function getStatus() to get file's current status instead of accessing it directly\r\n   * so this is done to avoid errors during ts static checking\r\n   * @ref https://github.com/Microsoft/TypeScript/issues/29155\r\n   */\r\n  public run(transfer: Transfer, scheduler: SavvyTransfer) {\r\n    transfer.processer = this;\r\n    this.transfer = transfer;\r\n    this.idle = false;\r\n\r\n    if (!transfer.lock) {\r\n      transfer.lock = true;\r\n    }\r\n\r\n    if (!transfer.paused) {\r\n      transfer.status = 'downloading';\r\n      this.process(transfer, scheduler);\r\n    } else {\r\n      transfer.lock = false;\r\n      transfer.processer = null;\r\n      this.idle = true;\r\n      if (transfer.status !== 'abort') {\r\n        transfer.status = 'paused';\r\n      }\r\n    }\r\n  }\r\n  public process = async (transfer: Transfer, scheduler: SavvyTransfer): Promise<undefined> => {\r\n    if (!transfer.paused) {\r\n      if (transfer.getStatus() === 'abort') {\r\n        // delete this file.\r\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_transfer: Transfer) => _transfer.id === _transfer.id), 1);\r\n\r\n        this.idle = true;\r\n        this.transfer = null;\r\n        transfer.lock = false;\r\n        transfer.processer = null;\r\n\r\n        scheduler.distributeToProcessers();\r\n        return;\r\n      }\r\n      // no more chunk need be download, should\r\n      if (transfer.chunkIndex >= transfer.chunkList.length) {\r\n        scheduler.IO.download([transfer]);\r\n\r\n        transfer.status = 'complete';\r\n\r\n        scheduler.storeFileForResume(transfer);\r\n        scheduler.IO.deleteFile(transfer);\r\n        scheduler.totalSize -= transfer.fileSize;\r\n        // delete this file.\r\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_transfer: Transfer) => _transfer.id === _transfer.id), 1);\r\n\r\n        this.idle = true;\r\n        this.transfer = null;\r\n        transfer.lock = false;\r\n        transfer.processer = null;\r\n\r\n        scheduler.distributeToProcessers();\r\n        return;\r\n      }\r\n\r\n      // need init to get a filewriter\r\n      if (!transfer.fileWriter) {\r\n        await transfer.init();\r\n        this.run(transfer, scheduler);\r\n        return;\r\n      }\r\n\r\n      // file.status should be inited\r\n      this.fetchChunk(transfer, scheduler).catch(\r\n        (error: Error): void => {\r\n          console.log(error);\r\n          transfer.resumePreChunk();\r\n          transfer.paused = true;\r\n          transfer.lock = false;\r\n          transfer.processer = null;\r\n          this.idle = true;\r\n          if (transfer.status !== 'abort') {\r\n            transfer.status = 'error';\r\n          }\r\n        }\r\n      );\r\n      return;\r\n      /* let nextChunk: TChunk = transfer.nextChunk();\r\n      let response: Response = await fetch(nextChunk.filePath, { method: 'GET', headers: { Range: `bytes=${nextChunk.start}-${nextChunk.end}` } });\r\n\r\n      if (transfer.paused) {\r\n        // throw this chunk\r\n        transfer.resumePreChunk();\r\n\r\n        transfer.lock = false;\r\n        transfer.processer = null;\r\n        this.idle = true;\r\n        if (transfer.status !== 'abort') {\r\n          transfer.status = 'paused';\r\n        }\r\n        return;\r\n      }\r\n      let buffer: ArrayBuffer = await response.arrayBuffer();\r\n\r\n      if (transfer.paused) {\r\n        // throw this chunk\r\n        transfer.resumePreChunk();\r\n        transfer.paused = true;\r\n        transfer.lock = false;\r\n        transfer.processer = null;\r\n        this.idle = true;\r\n        if (transfer.status !== 'abort') {\r\n          transfer.status = 'paused';\r\n        }\r\n        return;\r\n      }\r\n\r\n      await scheduler.IO.write(transfer, buffer);\r\n      if (transfer.getStatus() === 'abort') {\r\n        // delete this file.\r\n        scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_transfer: Transfer) => _transfer.id === _transfer.id), 1);\r\n\r\n        this.idle = true;\r\n        this.transfer = null;\r\n        transfer.lock = false;\r\n        transfer.processer = null;\r\n\r\n        scheduler.distributeToProcessers();\r\n        return;\r\n      }\r\n      transfer.update(nextChunk.end - (nextChunk.start === 0 ? 0 : nextChunk.start - 1));\r\n\r\n      // console.log(file.name + ' write ' + (file.nowChunkIndex - 1) + ' chunk, scope: ' + nextChunk.start + '-' + nextChunk.end);\r\n      scheduler.storeFileForResume(transfer);\r\n\r\n      this.run(transfer, scheduler); */\r\n    } else {\r\n      if (transfer.status !== 'abort') {\r\n        transfer.status = 'paused';\r\n      }\r\n      transfer.processer = null;\r\n      transfer.lock = false;\r\n      this.idle = true;\r\n    }\r\n  };\r\n\r\n  private async fetchChunk(transfer: Transfer, scheduler: SavvyTransfer): Promise<undefined> {\r\n    let nextChunk: TChunk = transfer.nextChunk();\r\n    let response: Response = await fetch(nextChunk.filePath, { method: 'GET', headers: { Range: `bytes=${nextChunk.start}-${nextChunk.end}` } });\r\n\r\n    if (transfer.paused) {\r\n      // throw this chunk\r\n      this.pausedDuringFetch(transfer);\r\n      return;\r\n    }\r\n    let buffer: ArrayBuffer = await response.arrayBuffer();\r\n\r\n    if (transfer.paused) {\r\n      // throw this chunk\r\n      this.pausedDuringFetch(transfer);\r\n      return;\r\n    }\r\n\r\n    await scheduler.IO.write(transfer, buffer);\r\n    if (transfer.getStatus() === 'abort') {\r\n      // delete this file.\r\n      scheduler.schedulingFiles.splice(scheduler.schedulingFiles.findIndex((_transfer: Transfer) => _transfer.id === _transfer.id), 1);\r\n\r\n      this.idle = true;\r\n      this.transfer = null;\r\n      transfer.lock = false;\r\n      transfer.processer = null;\r\n\r\n      scheduler.distributeToProcessers();\r\n      return;\r\n    }\r\n    transfer.update(nextChunk.end - (nextChunk.start === 0 ? 0 : nextChunk.start - 1));\r\n\r\n    // console.log(file.name + ' write ' + (file.nowChunkIndex - 1) + ' chunk, scope: ' + nextChunk.start + '-' + nextChunk.end);\r\n    scheduler.storeFileForResume(transfer);\r\n\r\n    this.run(transfer, scheduler);\r\n    return;\r\n  }\r\n\r\n  private pausedDuringFetch(transfer: Transfer): void {\r\n    transfer.resumePreChunk();\r\n    transfer.paused = true;\r\n    transfer.lock = false;\r\n    transfer.processer = null;\r\n    this.idle = true;\r\n    if (transfer.status !== 'abort') {\r\n      transfer.status = 'paused';\r\n    }\r\n  }\r\n}\r\n","import FilesystemIO from './methods/filesystem';\r\nimport MemoryIO from './methods/memory';\r\nimport SavvyFile from './file';\r\nimport { TResumeData, TResumeFile } from './interface';\r\n// import SavvyZipFile from './zip_file';\r\nimport Transfer from './transfer';\r\nimport TransferProcesser from './processer';\r\nimport { generateId } from './utils';\r\n\r\nconst IS64BIT: boolean = /\\b(WOW64|x86_64|Win64|intel mac os x 10.(9|\\d{2,}))/i.test(navigator.userAgent);\r\nconst DEV: boolean = false;\r\nexport default class SavvyTransfer {\r\n  private SIZE_LIMIT: number = 1024 * 1024 * 1024 * (1 + (IS64BIT ? 1 : 0));\r\n  private CHUNK_SIZE: number = 1024 * 1024 * 1;\r\n  private HTTP_NUM: number = 5;\r\n\r\n  public totalSize: number = 0;\r\n  public IO: FilesystemIO | MemoryIO;\r\n  public IO_IS_FS: boolean = false;\r\n  public progressHandle: Function;\r\n  public statusUpdateHandle: Function;\r\n  public running: boolean = false;\r\n\r\n  // public files: Array<SavvyFile | SavvyZipFile> = [];\r\n  public transfers: Transfer[] = [];\r\n  public schedulingFiles: Transfer[] = [];\r\n  public processers: TransferProcesser[] = [];\r\n\r\n  constructor(onProgress: Function, onStatusUpdate: Function) {\r\n    if ((window as any).requestFileSystem || (window as any).webkitRequestFileSystem) {\r\n      this.IO = new FilesystemIO();\r\n      this.IO_IS_FS = true;\r\n      // fs has a largeeeee size limit, up to 200GB\r\n      this.SIZE_LIMIT = 1024 * 1024 * 1024 * 200;\r\n      // this.SIZE_LIMIT = 1024 * 1024 * 250;\r\n    } else {\r\n      this.IO = new MemoryIO();\r\n    }\r\n    this.progressHandle = onProgress;\r\n    this.statusUpdateHandle = onStatusUpdate;\r\n    if (DEV && this.IO_IS_FS) {\r\n      (this.IO as FilesystemIO).removeAll();\r\n    }\r\n\r\n    this.processers = new Array(this.HTTP_NUM).fill('').map((_: number) => new TransferProcesser());\r\n  }\r\n\r\n  /**\r\n   * resumeData@type TResumeData\r\n   */\r\n  public retrieveFilesFromLocalStorage(): Array<Transfer> {\r\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\r\n    if (rawResumeData) {\r\n      let resumeData: TResumeData[];\r\n      try {\r\n        resumeData = JSON.parse(rawResumeData);\r\n\r\n        this.transfers.push(\r\n          ...resumeData.map((data: TResumeData) => {\r\n            return new Transfer(\r\n              data.files.map((_file: TResumeFile) => new SavvyFile(_file.path, _file.name, _file.size, this.CHUNK_SIZE, _file.bufferAcc, _file.offset, _file.crc)),\r\n              data.name,\r\n              this.IO,\r\n              this.progressHandle,\r\n              this.statusUpdateHandle,\r\n              true,\r\n              data.chunkIndex,\r\n              data.id,\r\n              data.offset,\r\n              true\r\n            );\r\n          })\r\n        );\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    if (this.IO_IS_FS) {\r\n      (this.IO as FilesystemIO).freeSpace(this.transfers);\r\n    }\r\n    return this.transfers;\r\n  }\r\n  /**\r\n   * resumeData@type TResumeData\r\n   * @param {Transfer} transferForUpdate\r\n   */\r\n  public storeFileForResume(transferForUpdate: Transfer): void {\r\n    if (transferForUpdate.status === 'complete') {\r\n      this.deleteFileFromStore(transferForUpdate);\r\n\r\n      return;\r\n    }\r\n\r\n    let resumeDataForFile: TResumeData = {\r\n      id: transferForUpdate.id,\r\n      name: transferForUpdate.name,\r\n      type: transferForUpdate.zip ? 'zip' : 'normal',\r\n      chunkIndex: transferForUpdate.chunkIndex,\r\n      tag: transferForUpdate.chunkIndex === transferForUpdate.chunkList.length ? 1 : 0,\r\n      offset: transferForUpdate.offset,\r\n      files: transferForUpdate.files.map((_file: SavvyFile) => ({\r\n        name: _file.name,\r\n        path: _file.filePath,\r\n        size: _file.fileSize,\r\n\r\n        bufferAcc: _file.bufferAcc,\r\n        offset: _file.offset,\r\n        crc: _file.crc\r\n      }))\r\n    };\r\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\r\n    let newResumeData: TResumeData[] = [];\r\n    if (rawResumeData) {\r\n      let tmpResumeData: TResumeData[];\r\n      try {\r\n        tmpResumeData = JSON.parse(rawResumeData);\r\n        let index: number = tmpResumeData.findIndex((data: TResumeData) => data.id === resumeDataForFile.id);\r\n        if (index !== -1) {\r\n          tmpResumeData.splice(index, 1, resumeDataForFile);\r\n          newResumeData.push(...tmpResumeData);\r\n        } else {\r\n          newResumeData.push(...tmpResumeData, resumeDataForFile);\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      newResumeData.push(resumeDataForFile);\r\n    }\r\n\r\n    window.localStorage.setItem('savvy_transfers', JSON.stringify(newResumeData));\r\n  }\r\n  /**\r\n   * resumeData@type TResumeData\r\n   * @param {Transfer} transferNeedDelete\r\n   */\r\n  public deleteFileFromStore(transferNeedDelete: Transfer): void {\r\n    let rawResumeData: string | null = window.localStorage.getItem('savvy_transfers');\r\n    if (rawResumeData) {\r\n      let tmpResumeData: TResumeData[];\r\n      try {\r\n        tmpResumeData = JSON.parse(rawResumeData);\r\n        let index: number = tmpResumeData.findIndex((data: TResumeData) => data.id === transferNeedDelete.id);\r\n        if (index !== -1) {\r\n          tmpResumeData.splice(index, 1);\r\n        }\r\n\r\n        window.localStorage.setItem('savvy_transfers', JSON.stringify(tmpResumeData));\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  }\r\n  // temporary just on type - zip\r\n  public async addFiles(files: { path: string; name: string }[], asZip: boolean = false, zipName: string): Promise<Transfer | Array<Transfer>> {\r\n    let tmpFiles: SavvyFile[] = [];\r\n    for (let i: number = 0, l: number = files.length; i < l; i++) {\r\n      try {\r\n        let tmpFile: SavvyFile | undefined | string = await this.addFile(files[i].path, files[i].name);\r\n        if (tmpFile && typeof tmpFile !== 'string') {\r\n          tmpFiles.push(tmpFile);\r\n        }\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    }\r\n\r\n    let tmpTransfer: Transfer;\r\n    if (asZip) {\r\n      // create a zip file\r\n      tmpTransfer = new Transfer(tmpFiles, zipName, this.IO, this.progressHandle, this.statusUpdateHandle, true);\r\n      this.transfers.push(tmpTransfer);\r\n\r\n      // store in locastorage for resume\r\n      this.storeFileForResume(tmpTransfer);\r\n\r\n      return tmpTransfer;\r\n    } else {\r\n      return tmpFiles.map((file: SavvyFile) => new Transfer([file], file.name, this.IO, this.progressHandle, this.statusUpdateHandle, false));\r\n    }\r\n  }\r\n  private async addFile(path: string, name: string): Promise<SavvyFile | undefined> {\r\n    if (!path) {\r\n      console.log('file path invalid.');\r\n      throw new Error('Invalid file path');\r\n      // return;\r\n    }\r\n\r\n    // get file size\r\n    let response: Response = await fetch(path, { method: 'GET', headers: { Range: 'bytes=0-1' } });\r\n    console.log(response.headers.forEach((value, key) => console.log(`${key}: ${value}`)));\r\n    if (!response.headers.get('content-range')) {\r\n      console.log('can not get file size, check file path or contact service provider.');\r\n      // let message = 'can not get file size, check file path or contact service provider.';\r\n      throw new Error('Can not get file size, check file path or contact service provider.');\r\n      // return;\r\n    }\r\n    // calculate whether the size limit is exceeded\r\n    let fileSize: number = parseInt(response.headers.get('content-range')!.split('/')[1]);\r\n    console.log(fileSize);\r\n    if (fileSize > this.SIZE_LIMIT || fileSize + this.totalSize > this.SIZE_LIMIT) {\r\n      console.log('The download size exceeds the maximum size supported by the browser. You can use savvy-cli to proceed with the download.');\r\n      // let message = 'The download size exceeds the maximum size supported by the browser. You can use savvy-cli to proceed with the download.';\r\n      throw new Error('exceed');\r\n      // return;\r\n    }\r\n    // create new file\r\n    let tmpFile: SavvyFile = new SavvyFile(path, name, fileSize, this.CHUNK_SIZE);\r\n    // ensure each file get it's writer from IO\r\n    // `asZip` flag indicate this SavvyFile where belong another SavvyFile which will actually being download as a zip file\r\n    //  in other word, this savvyfile does not need a writer(init);\r\n    /* if (!asZip) {\r\n      this.files.push(tmpFile);\r\n    } */\r\n\r\n    this.totalSize += tmpFile.fileSize;\r\n    await new Promise((resolve, reject) => {\r\n      setTimeout(resolve, 1);\r\n    });\r\n    return tmpFile;\r\n  }\r\n  /**\r\n   * @param {Array<Transfer>[]} transfers\r\n   * pause files' processers which id within ids\r\n   */\r\n  public pause(transfers: Array<Transfer>): boolean {\r\n    if (this.running) {\r\n      transfers.map((transfer: Transfer) => {\r\n        // some file in ids may had being resumed.\r\n        // we just need care about those files which have freezed processors.\r\n        if (transfer.processer) {\r\n          // tmpFile.processer.freeze = true;\r\n          transfer.paused = true;\r\n        } else {\r\n          /**\r\n           * two possible conditions:\r\n           * 1. current transfer is not in queue.\r\n           * 2. in queue, waiting for distribute.\r\n           * */\r\n\r\n          transfer.paused = true;\r\n          transfer.status = 'paused';\r\n        }\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  /**\r\n   * @param {Array<Transfer>[]} transfers\r\n   * resume files' processers which id within ids.\r\n   */\r\n  public resume(transfers: Array<Transfer>) {\r\n    transfers.map((transfer: Transfer) => {\r\n      transfer.paused = false;\r\n      this.schedule([transfer.id]);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {Transfer} transfer\r\n   * @returns SavvyFile | SavvyZipFile | undefined\r\n   * remove file\r\n   * 1. pause its processor if there has one.\r\n   * 2. release the processor resource.\r\n   * 3. delete its record in LocalStorage.\r\n   */\r\n  public removeFile(transfer: Transfer): Transfer | undefined {\r\n    if (transfer && transfer.status !== 'abort') {\r\n      transfer.paused = true;\r\n      transfer.status = 'abort';\r\n      this.totalSize -= transfer.fileSize;\r\n      this.IO.deleteFile(transfer);\r\n\r\n      this.deleteFileFromStore(transfer);\r\n    }\r\n    return transfer;\r\n  }\r\n  /**\r\n   * @param {number[]?} ids\r\n   * get files which id within ids, deduplication and then push into <schedulingFiles>\r\n   */\r\n  public schedule = (ids?: Array<number>): void => {\r\n    // fill into schedulingFiles\r\n    let tmpIds: Array<number> = ids || this.transfers.map((transfer: Transfer) => transfer.id);\r\n    let nonRepeatIds: Array<number> = Array.from(new Set(tmpIds));\r\n\r\n    for (let i = 0, l = nonRepeatIds.length; i < l; i++) {\r\n      let tmpTransfer: Transfer | undefined = this.transfers.find((transfer: Transfer) => transfer.id === nonRepeatIds[i]);\r\n\r\n      if (tmpTransfer && this.schedulingFiles.filter((transfer: Transfer) => transfer.id === nonRepeatIds[i]).length <= 0) {\r\n        tmpTransfer.status = 'queue';\r\n        this.schedulingFiles.push(tmpTransfer);\r\n      }\r\n    }\r\n\r\n    this.distributeToProcessers();\r\n  };\r\n\r\n  /**\r\n   * query the current idle state of all processors\r\n   * distribute a file which is **not complete** and **not abort** and **not locked**\r\n   * to a processor in idle state.\r\n   */\r\n  public distributeToProcessers() {\r\n    if (this.schedulingFiles.length > 0) {\r\n      this.running = true;\r\n      for (let i: number = 0, l = this.processers.length; i < l; i++) {\r\n        if (this.processers[i].idle) {\r\n          let currentTransfer: Transfer | undefined = this.schedulingFiles.find(\r\n            (transfer: Transfer) => (transfer && transfer!.status !== 'abort' && transfer!.status !== 'complete' && !transfer.lock && !transfer.paused) || false\r\n          );\r\n\r\n          if (currentTransfer) {\r\n            this.processers[i].run(currentTransfer, this);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this.running = false;\r\n      console.log('all files are in complete state, transfer stop.');\r\n    }\r\n  }\r\n}\r\n"],"names":["require$$0","toPrimitive","toPropertyKey","SavvyIO","_createClass","_classCallCheck","extmime","aac","abw","ace","adp","aif","aifc","aiff","apk","asf","asx","atom","au","avi","bat","bmp","btif","bz","bz2","caf","cgm","cmx","com","conf","css","csv","dbk","deb","def","djv","djvu","dll","dmg","doc","docm","docx","dot","dotm","dotx","dra","dtd","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","emf","emz","eol","epub","exe","f4v","fbs","fh","fh4","fh5","fh7","fhc","flac","fli","flv","fpx","fst","fvt","g3","gif","h261","h263","h264","heif","heic","htm","html","ico","ief","iso","jpe","jpeg","jpg","jpgm","jpgv","jpm","json","jsonml","kar","ktx","list","log","lvp","m13","m14","m1v","m21","m2a","m2v","m3a","m3u","m3u8","m4a","m4u","m4v","mdi","mid","midi","mj2","mjp2","mk3d","mka","mks","mkv","mmr","mng","mov","movie","mp2","mp21","mp2a","mp3","mp4","mp4a","mp4s","mp4v","mpe","mpeg","mpg","mpg4","mpga","mpkg","msi","mvb","mxf","mxml","mxu","npx","odb","odc","odf","odft","odg","odi","odm","odp","ods","odt","oga","ogg","ogv","ogx","otc","otg","oth","oti","otp","ots","ott","oxt","pbm","pct","pcx","pdf","pgm","pic","plb","png","pnm","pot","potx","ppm","pps","ppsx","ppt","pptx","psb","psd","pvb","pya","pyv","qt","ra","ram","ras","rgb","rip","rlc","rmi","rmp","s3m","sgi","sgm","sgml","sid","sil","sldx","smv","snd","spx","srt","sub","svg","svgz","swf","tcap","text","tga","tif","tiff","torrent","tsv","ttl","txt","udeb","uva","uvg","uvh","uvi","uvm","uvp","uvs","uvu","uvv","uvva","uvvg","uvvh","uvvi","uvvm","uvvp","uvvs","uvvu","uvvv","viv","vob","wav","wax","wbmp","wdp","weba","webm","webp","wm","wma","wmf","wmv","wmx","wvx","xap","xbm","xht","xhtml","xhvml","xif","xlsx","xltx","xm","xml","xop","xpl","xpm","xsl","xslt","xspf","xvm","xvml","xwd","zip","ext","filemime","name","fext","fileext","filetype","length","replace","toUpperCase","uppercase","arguments","undefined","iknowwhatimdoing","String","substr","lastIndexOf","toLowerCase","crc32table","crc32","data","crc","len","x","y","off","i","VAL32","_HEX","toString","hasBuffer","Buffer","Int64","a1","a2","_this","buffer","offset","_2scomp","b","o","carry","v","setValue","hi","lo","negate","Math","abs","RangeError","parseInt","Error","toNumber","allowImprecise","m","MAX_INT","Infinity","valueOf","radix","toOctetString","sep","out","Array","join","toBuffer","rawBuffer","copy","targetBuffer","targetOffset","compare","other","equals","inspect","asIs","Uint8Array","Object","prototype","call","pow","MIN_INT","toUtf8Bytes","str","TextEncoder","encode","zipBuffer","_x","_x2","_x3","_x4","_zipBuffer","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","currentFile","transfer","_buffer","isLast","ziper","fileNameBytes","ebuf","header","d","centralDir","centralDirBuffer","_d","dirRecord","end","dirData","tmpSize","tmpOffset","tmpBuf","_i","wrap","_callee$","_context","prev","next","Crc32","byteLength","ZIPClass","fileSize","bufferAcc","headerPos","ezBuffer","i16","zipUtf8ExtraId","i8","i32","appendBytes","ZipHeader","getArray","set","ZipCentralDirectory","dataDescriptor","files","map","file","tmpCentralDir","ZipSuffix","console","abrupt","Promise","resolve","reject","stop","fileHeaderLen","noCompression","defaultFlags","i32max","i16max","zip64ExtraId","directory64LocLen","directory64EndLen","fileHeaderSignature","directory64LocSignature","directory64EndSignature","directoryEndSignature","dataDescriptorSignature","directoryHeaderSignature","dataDescriptorLen","dataDescriptor64Len","directoryHeaderLen","totalSize","maxZipSize","isZip64","zipVersion","localStorage","zip64","key","value","extra","readerVersion","Flags","Method","date","unsize","buf","DosDateTime","getBytes","size","directory","headerpos","creatorVersion","externalAttr","i64","concat","centralDirectoryBuf","dataDescriptorBuf","pos","dirDatalength","xbuf","resize","obj","DataView","debug","error","bytes","val","array","push","isArray","charCodeAt","number","bigendian","nbuffer","setInt32","setInt16","setInt8","newsize","zobj","resizeIfNeeded","sec","Date","dosTime","dosDate","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","customWindow","window","TEMPORARY","FilesystemIO","_SavvyIO","_callSuper","freeSpaceRequest","entrtiesReaded","allEntries","allResumeFiles","saveLink","objectURL","link","dlLinkNode","document","createElement","download","href","fileEntry","toURL","click","saveFile","_file","File","type","URL","createObjectURL","ex","requestFileSystem","webkitRequestFileSystem","fs","root","getDirectory","create","directoryEntry","dirReader","createReader","readEntries","entries","freeSpace","_inherits","removeFile","forEach","entry","id","remove","removeAll","getFileWriter","successCallback","errorCallback","getFile","getMetadata","metadata","createWriter","fw","seek","onwriteend","fileWriter","truncate","abortAllResumeData","transfers","tmpTransfer","find","err","write","chunkIndex","chunkList","then","e","Blob","deleteFile","isFile","delTime","setTimeout","_this2","_loop","l","MSIE","MSBlobBuilder","MemoryIO","MemoryWrite","onerror","clear","blob","getBlob","blob_url","navigator","msSaveOrOpenBlob","body","appendChild","blobList","position","append","SavvyFile","path","chunkSize","buffacc","filePath","tmpStart","tmpEnd","start","Transfer","IO","progressHandle","statusUpdateHandle","resumed","fileType","_status","remainSize","processer","lock","paused","speed","startTime","init","result","status","update","tmpEndTime","getTime","duration","getStatus","reduce","cur","pre","acc","index","nextChunk","resumePreChunk","get","new_status","tmpNowChunkIndex","numChunks","tmpNowFile","TransferProcesser","idle","process","_ref","scheduler","schedulingFiles","splice","findIndex","_transfer","distributeToProcessers","storeFileForResume","run","fetchChunk","catch","_fetchChunk","_callee2","response","_callee2$","_context2","fetch","method","headers","Range","sent","pausedDuringFetch","arrayBuffer","IS64BIT","test","userAgent","SavvyTransfer","onProgress","onStatusUpdate","SIZE_LIMIT","CHUNK_SIZE","HTTP_NUM","IO_IS_FS","running","processers","schedule","ids","tmpIds","nonRepeatIds","from","Set","filter","fill","_","retrieveFilesFromLocalStorage","rawResumeData","getItem","resumeData","_this$transfers","JSON","parse","_toConsumableArray","transferForUpdate","deleteFileFromStore","resumeDataForFile","tag","newResumeData","tmpResumeData","setItem","stringify","transferNeedDelete","_addFiles","_this3","asZip","zipName","tmpFiles","tmpFile","_args","addFile","t0","addFiles","_addFile","split","pause","resume","_this4","currentTransfer"],"mappings":"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AAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,U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"}